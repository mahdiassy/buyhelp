<section class="log-in-section section-b-space">
  <div class="container w-100">
    <div class="row">
      <div class="col-xl-7">
        <app-alert></app-alert>
        <div class="log-in-box">
          <div class="log-in-title">
            <h3>{{ 'welcome_to_store' | translate }}</h3>
            <h4>{{ 'setup_your_store_information' | translate }}</h4>
          </div>
          <div class="input-box">
            <form class="row g-4" [formGroup]="form" (ngSubmit)="submit();">
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="name" class="form-control" id="name" formControlName="name"
                    placeholder="{{ 'name' | translate }}" />
                  <label for="name">{{ 'name' | translate }}</label>
                  <div *ngIf="form.controls['name'].touched && form.controls['name'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'name_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="email" class="form-control" id="email" formControlName="email"
                    placeholder="{{ 'email_address' | translate }}" />
                  <label for="email">{{ 'email_address' | translate }}</label>
                  <div *ngIf="form.controls['email'].touched && form.controls['email'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'email_is_required' | translate }}
                  </div>
                  <div *ngIf="form.controls['email'].touched && form.controls['email'].errors?.['email']"
                    class="invalid-feedback">
                    {{ 'invalid_email' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="password" class="form-control" id="password" formControlName="password"
                    placeholder="{{ 'password' | translate }} " />
                  <label for="password">{{ 'password' | translate }}</label>
                  <div *ngIf="form.controls['password'].touched && form.controls['password'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'password_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="password" class="form-control" id="confirm_password" formControlName="password_confirmation"
                    placeholder="{{ 'confirm_password' | translate }} " />
                  <label for="confirm_password">{{ 'confirm_password' | translate }}</label>
                  <div class="invalid-feedback"
                    *ngIf="form?.controls['password_confirmation']?.touched && form?.controls['password_confirmation']?.errors?.['required'] else error">
                    {{ 'confirm_password_is_required' | translate }}
                  </div>
                  <ng-template #error>
                    <div class="invalid-feedback" *ngIf="passwordMatchError">
                      {{ 'confirm_password_does_not_matched' | translate }}
                    </div>
                  </ng-template>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="text" class="form-control" id="store_name" formControlName="store_name"
                    placeholder="{{ 'store_name' | translate }}" />
                  <label for="store_name">{{ 'store_name' | translate }}</label>
                  <div *ngIf="form.controls['store_name'].touched && form.controls['store_name'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'store_name_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <textarea type="text" class="form-control" id="store_description" formControlName="description"
                    placeholder="{{ 'store_description' | translate }}"></textarea>
                  <label for="store_description">{{ 'store_description' | translate }}</label>
                  <div *ngIf="form.controls['description'].touched && form.controls['description'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'description_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="form-floating theme-form-floating log-in-form">
                  <select2 class="custom-select" [data]="(countries$ | async)?.length ? (countries$ | async) : []"
                    [placeholder]="'select_country' | translate" formControlName="country_id"
                    (update)="countryChange($event)" noResultMessage="{{ 'no_data_found' | translate }}" resettable>
                  </select2>
                  <div class="invalid-feedback"
                    *ngIf="form?.controls['country_id']?.touched && form?.controls['country_id']?.errors?.['required']">
                    {{ 'country_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <select2 class="custom-select" [data]="(states$ | async)?.length ? (states$ | async) : [] "
                    [placeholder]="'select_state' | translate" formControlName="state_id"
                    noResultMessage="{{ 'no_data_found' | translate }}" resettable>
                  </select2>
                  <div class="invalid-feedback"
                    *ngIf="form?.controls['state_id'].touched && form?.controls['state_id'].errors?.['required']">
                    {{ 'state_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="text" class="form-control" id="city" formControlName="city"
                    placeholder="{{ 'city' | translate }}">
                  <label for="city">{{ 'city' | translate }}</label>
                  <div *ngIf="form.controls['city'].touched && form.controls['city'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'city_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="form-floating theme-form-floating log-in-form">
                  <textarea type="text" class="form-control" id="address" formControlName="address"
                    placeholder="{{ 'address' | translate }}"></textarea>
                  <label for="address">{{ 'address' | translate }}</label>
                  <div *ngIf="form.controls['address'].touched && form.controls['address'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'address_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-floating theme-form-floating log-in-form">
                  <input type="text" class="form-control" id="pincode" formControlName="pincode"
                    placeholder="{{ 'pincode' | translate }}">
                  <label for="pincode">{{ 'pincode' | translate }}</label>
                  <div *ngIf="form.controls['pincode'].touched && form.controls['pincode'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 'pincode_is_required' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-sm-6 phone-selection">
                <div class="form-floating theme-form-floating log-in-form">
                  <select2 class="custom-select intl-tel-input" [templates]="template" [data]="codes"
                    formControlName="country_code" noResultMessage="{{ 'no_data_found' | translate }}">
                    <ng-template #template let-data="data">
                      <div class="country">
                        <div class="flag-box">
                          <div class="iti-flag {{data?.class}}"></div>
                        </div>
                        <span class="dial-code">{{data.code}}</span>
                      </div>
                    </ng-template>
                  </select2>
                  <input type="number" class="form-control intl-input-padding" formControlName="phone"
                    placeholder="{{ 'enter_phone' | translate }}" name="phone">
                  <div class="invalid-feedback"
                    *ngIf="form.controls['phone'].touched && form.controls['phone'].errors?.['required']"
                    autocomplete="false">
                    {{ 'phone_number_is_required' | translate }}
                  </div>
                  <div class="invalid-feedback"
                    *ngIf="form.controls['phone'].touched && form.controls['phone'].errors?.['pattern']">
                    {{ 'phone_number_is_invalid' | translate }}
                  </div>
                </div>
              </div>
              <div class="col-12" *ngIf="reCaptcha">
                <re-captcha formControlName="recaptcha"> </re-captcha>
                <div *ngIf="form.controls['recaptcha'].touched && form.controls['recaptcha'].errors?.['required']"
                    class="invalid-feedback">
                    {{ 're_captcha_is_required' | translate }}
                </div>
              </div>
              <div class="col-12">
                <app-button [class]="'btn btn-theme btn-lg w-100 justify-content-center'" [id]="'register_btn'">
                  {{ 'submit' | translate }}
                </app-button>
                <div class="sign-up-box">
                  <h4>{{ 'already_have_account' | translate }}</h4>
                  <a [routerLink]="['/auth/login']">{{ 'log_in' | translate }}</a>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>