import{Da as u,a as p,k as m,m as v,n as f,p as d}from"./chunk-AYDE6MWJ.js";import{$ as l,V as n,ca as a,n as s,xc as h}from"./chunk-RFGELG3T.js";var w=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Review] Get";let r=e;return r})(),R=(()=>{let e=class e{constructor(t){this.id=t}};e.type="[Review] Delete";let r=e;return r})(),S=(()=>{let e=class e{constructor(t){this.ids=t}};e.type="[Review] Delete All";let r=e;return r})();var y=(()=>{let e=class e{constructor(t){this.http=t}getReviews(t){return this.http.get(`${p.URL}/review`,{params:t})}deleteReview(t){return this.http.delete(`${p.URL}/review/${t}`)}deleteAllReview(t){return this.http.post(`${p.URL}/review/deleteAll`,{ids:t})}};e.\u0275fac=function(g){return new(g||e)(a(h))},e.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var o,c=(o=class{constructor(e,i,t){this.store=e,this.notificationService=i,this.reviewService=t}static review(e){return e.review}getReviews(e,i){return this.reviewService.getReviews(i?.payload).pipe(n({next:t=>{e.patchState({review:{data:t.data,total:t?.total?t?.total:t.data.length}})},error:t=>{throw new Error(t?.error?.message)}}))}delete(e,{id:i}){return this.reviewService.deleteReview(i).pipe(n({next:()=>{this.store.dispatch(new w({page:1,paginate:15}))},complete:()=>{this.notificationService.showSuccess("Review Deleted Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}deleteAll(e,{ids:i}){return this.reviewService.deleteAllReview(i).pipe(n({next:()=>{this.store.dispatch(new w({page:1,paginate:15}))},complete:()=>{this.notificationService.showSuccess("Review Deleted Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}},o.\u0275fac=function(i){return new(i||o)(a(m),a(u),a(y))},o.\u0275prov=l({token:o,factory:o.\u0275fac}),o);s([v(w)],c.prototype,"getReviews",null);s([v(R)],c.prototype,"delete",null);s([v(S)],c.prototype,"deleteAll",null);s([d()],c,"review",null);c=s([f({name:"review",defaults:{review:{data:[],total:0}}})],c);export{w as a,R as b,S as c,c as d};
