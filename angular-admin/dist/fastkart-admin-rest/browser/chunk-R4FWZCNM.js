import{a as wt,h as se}from"./chunk-46CPMU37.js";import{a as Ct,h as pe}from"./chunk-TJ2ZHVGO.js";import{a as le}from"./chunk-Q3KTT2IO.js";import{a as Ce}from"./chunk-YK6OOJHV.js";import{A as ae,B as Xe,Da as st,E as d,Ec as bt,G as Ye,I as Ze,J as et,K as tt,N as it,S as nt,Ua as mt,Yb as be,a as z,ab as ut,ea as rt,fa as ot,fb as dt,ga as at,ha as lt,ia as pt,k as K,l as He,lb as ct,m as H,n as We,o as R,ob as _t,p as ve,rb as ft,tb as gt,vb as ht,x as Je,y as oe,yb as yt,z as E,zb as vt}from"./chunk-AYDE6MWJ.js";import{$ as ee,Ca as fe,Ea as o,F as Be,Fa as v,Hb as F,Ib as G,Jc as re,Ka as De,Lc as V,Mc as ze,Nb as m,Ob as u,Oc as ye,Qa as f,Rb as he,Rc as W,S as Ne,Sa as a,T as Ve,Ua as $e,V as U,Wa as L,Xa as je,a as Te,aa as te,ab as p,ac as Le,b as ke,bb as s,ca as P,cb as c,db as qe,eb as Pe,ga as S,gb as I,ha as ie,i as _e,ic as Q,jb as b,jc as N,kb as _,mc as ne,n as h,na as Ke,nb as T,oa as C,p as Fe,pa as w,rb as Re,sb as Ae,tb as Oe,tc as Ge,u as Ee,ub as ge,vb as g,wb as k,xb as x,xc as Qe,yb as Ue}from"./chunk-RFGELG3T.js";var J=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Menu] Get";let i=e;return i})(),me=(()=>{let e=class e{constructor(t){this.payload=t}};e.type="[Menu] Create";let i=e;return i})(),ue=(()=>{let e=class e{constructor(t){this.id=t}};e.type="[Menu] Edit";let i=e;return i})(),de=(()=>{let e=class e{constructor(t,r){this.payload=t,this.id=r}};e.type="[Menu] Update";let i=e;return i})(),ce=(()=>{let e=class e{constructor(t){this.id=t}};e.type="[Menu] Delete";let i=e;return i})();var xt=(()=>{let e=class e{constructor(t){this.http=t}getMenu(t){return this.http.get(`${z.URL}/menu`,{params:t})}createMenu(t){return this.http.post(`${z.URL}/menu`,t)}editMenu(t){return this.http.get(`${z.URL}/menu/${t}`)}updateMenu(t,r){return this.http.put(`${z.URL}/menu/${t}`,r)}deleteMenu(t){return this.http.delete(`${z.URL}/menu/${t}`)}};e.\u0275fac=function(r){return new(r||e)(P(Qe))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var B,y=(B=class{constructor(e,n,t,r){this.notificationService=e,this.menuService=n,this.store=t,this.router=r}static menu(e){return e.menu}static selectedMenu(e){return e.selectedMenu}getMenu(e,n){return this.menuService.getMenu(n.payload).pipe(U({next:t=>{e.patchState({menu:{data:t.data,total:t?.total?t?.total:t.data?.length}})},error:t=>{throw new Error(t?.error?.message)}}))}create(e,n){return this.menuService.createMenu(n.payload).pipe(U({complete:()=>{this.store.dispatch(new J),this.notificationService.showSuccess("Menu Created Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}edit(e,{id:n}){return this.menuService.editMenu(n).pipe(U({next:t=>{let r=e.getState();e.patchState(ke(Te({},r),{selectedMenu:t}))},error:t=>{throw new Error(t?.error?.message)}}))}update(e,{payload:n,id:t}){return this.menuService.updateMenu(t,n).pipe(U({complete:()=>{this.notificationService.showSuccess("Menu Updated Successfully")},error:r=>{throw new Error(r?.error?.message)}}))}delete(e,{id:n}){return this.menuService.deleteMenu(n).pipe(U({next:t=>{this.store.dispatch(new J),this.router.navigateByUrl("/menu")},complete:()=>{this.notificationService.showSuccess("Menu Deleted Successfully.")},error:t=>{throw new Error(t?.error?.message)}}))}},B.\u0275fac=function(n){return new(n||B)(P(st),P(xt),P(K),P(V))},B.\u0275prov=ee({token:B,factory:B.\u0275fac}),B);h([H(J)],y.prototype,"getMenu",null);h([H(me)],y.prototype,"create",null);h([H(ue)],y.prototype,"edit",null);h([H(de)],y.prototype,"update",null);h([H(ce)],y.prototype,"delete",null);h([ve()],y,"menu",null);h([ve()],y,"selectedMenu",null);y=h([We({name:"menu",defaults:{menu:{data:[],total:0},selectedMenu:null}})],y);var Et=["deleteModal"],Bt=i=>["/menu/edit",i];function Nt(i,e){if(i&1&&(p(0,"a",8),c(1,"i",9),s()),i&2){let n=_();a("routerLink",G(1,Bt,n.node==null?null:n.node.id))}}function Vt(i,e){if(i&1){let n=I();p(0,"a",10),b("click",function(){C(n);let r=_();return w(r.DeleteModal.openModal("delete",r.node))}),c(1,"i",11),s()}}function Kt(i,e){if(i&1&&c(0,"app-menu-node-tree",13),i&2){let n=e.$implicit,t=_(2);a("node",n)("displayKey",t.displayKey)("recursionKey",t.recursionKey)}}function Dt(i,e){if(i&1&&(p(0,"ul"),f(1,Kt,1,3,"app-menu-node-tree",12),s()),i&2){let n=_();o(),a("ngForOf",n.node[n.recursionKey])}}var Mt=(()=>{let e=class e{constructor(t,r,l){this.store=t,this.router=r,this.route=l,this.categoryType="product",this.showChildrenNode=!0}ngOnInit(){this.route.params.subscribe(t=>this.id=t.id)}delete(t,r){this.store.dispatch(new ce(r.id)).subscribe({complete:()=>{this.router.navigateByUrl("/menu")}})}};e.\u0275fac=function(r){return new(r||e)(v(K),v(V),v(re))},e.\u0275cmp=S({type:e,selectors:[["app-menu-node-tree"]],viewQuery:function(r,l){if(r&1&&Re(Et,5),r&2){let M;Ae(M=Oe())&&(l.DeleteModal=M.first)}},inputs:{node:"node",recursionKey:"recursionKey",displayKey:"displayKey",categoryType:"categoryType"},decls:11,vars:8,consts:[["deleteModal",""],[1,"cursor-pointer"],["role","presentation",1,"tree-icon","file-icon",3,"click"],[1,"tree-options"],["href","javascript:void(0)",3,"routerLink",4,"hasPermission"],["href","javascript:void(0)",3,"click",4,"hasPermission"],[4,"ngIf"],[3,"deleteItem"],["href","javascript:void(0)",3,"routerLink"],[1,"ri-pencil-line","text-success"],["href","javascript:void(0)",3,"click"],[1,"ri-delete-bin-7-line","text-danger"],[3,"node","displayKey","recursionKey",4,"ngFor","ngForOf"],[3,"node","displayKey","recursionKey"]],template:function(r,l){if(r&1){let M=I();p(0,"li",1)(1,"div")(2,"i",2),b("click",function(){return C(M),w(l.showChildrenNode=!l.showChildrenNode)}),s(),p(3,"span"),g(4),s(),p(5,"div",3),f(6,Nt,2,3,"a",4)(7,Vt,2,0,"a",5),s()(),f(8,Dt,2,1,"ul",6),s(),p(9,"app-delete-modal",7,0),b("deleteItem",function(q){return C(M),w(l.delete(q.actionToPerform,q.data))}),s()}r&2&&($e("inside-ul",l.node[l.recursionKey]&&l.node[l.recursionKey].length),o(3),L(l.node.id==l.id?"active":""),o(),k(l.node[l.displayKey]||(l.node==null?null:l.node.title)),o(2),a("hasPermission","category.edit"),o(),a("hasPermission","category.destroy"),o(),a("ngIf",l.node[l.recursionKey]&&l.node[l.recursionKey].length&&l.showChildrenNode))},dependencies:[Q,N,ze,_t,ut,e]});let i=e;return i})();function qt(i,e){if(i&1&&c(0,"app-menu-node-tree",8),i&2){let n=e.$implicit,t=_(2);a("node",n)("displayKey",t.displayKey)("recursionKey",t.recursionKey)("categoryType",t.categoryType)}}function Pt(i,e){if(i&1&&(p(0,"ul",4)(1,"li",5)(2,"div"),c(3,"i",6),p(4,"span"),g(5),m(6,"translate"),s()(),p(7,"ul"),f(8,qt,1,4,"app-menu-node-tree",7),s()()()),i&2){let n=_();o(5),k(u(6,2,"Menu")),o(3),a("ngForOf",n.dataToShow)}}function Rt(i,e){i&1&&c(0,"app-no-data",9),i&2&&(L("no-data-added category-no-data"),a("image","assets/svg/no-category.svg")("text","no_menu_found"))}var It=(()=>{let e=class e{constructor(){this.displayKey="title",this.categoryType="product",this.treeSearch=new d(""),this.dataToShow=[],this.treeSearch.valueChanges.subscribe(t=>{t?(this.dataToShow=[],this.data.forEach(r=>{this.hasValue(r)&&this.dataToShow.push(r)})):this.dataToShow=this.data})}ngOnChanges(){this.dataToShow=this.data}hasValue(t){let r=!1;return t[this.displayKey].toLowerCase().includes(this.treeSearch?.value?.toLowerCase())&&(r=!0),t[this.recursionKey]?.length&&t[this.recursionKey].forEach(l=>{this.hasValue(l)&&(r=!0)}),r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=S({type:e,selectors:[["app-menu-tree"]],inputs:{type:"type",data:"data",recursionKey:"recursionKey",displayKey:"displayKey",categoryType:"categoryType"},features:[Ke],decls:5,vars:6,consts:[[1,"theme-tree-box"],[1,"form-control",3,"placeholder","formControl"],["class","tree-main-ul",4,"ngIf"],[3,"class","image","text",4,"ngIf"],[1,"tree-main-ul"],[1,"cursor-pointer"],["role","presentation",1,"tree-icon","folder-icon"],[3,"node","displayKey","recursionKey","categoryType",4,"ngFor","ngForOf"],[3,"node","displayKey","recursionKey","categoryType"],[3,"image","text"]],template:function(r,l){r&1&&(p(0,"div",0),c(1,"input",1),m(2,"translate"),f(3,Pt,9,4,"ul",2),s(),f(4,Rt,1,4,"app-no-data",3)),r&2&&(o(),T("placeholder",u(2,4,"search")),a("formControl",l.treeSearch),o(2),a("ngIf",l.dataToShow==null?null:l.dataToShow.length),o(),a("ngIf",!(l.dataToShow!=null&&l.dataToShow.length)))},dependencies:[Q,N,oe,ae,et,ht,Mt,W]});let i=e;return i})();var Y=()=>[],Se=i=>[i];function Ot(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"title_is_required")," "))}function Ut(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"link_type_is_required")," "))}function Lt(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"target_is_required")," "))}function Gt(i,e){if(i&1&&(p(0,"app-form-fields",3)(1,"div",15)(2,"label",16),c(3,"input",21)(4,"span",18),s()(),f(5,Lt,3,3,"div",5),s()),i&2){let n=_();a("label","target_blank")("for","is_target_blank"),o(5),a("ngIf",n.form.controls.is_target_blank.touched&&(n.form.controls.is_target_blank.errors==null?null:n.form.controls.is_target_blank.errors.required))}}function Qt(i,e){if(i&1){let n=I();p(0,"app-form-fields",3)(1,"select2",22),m(2,"translate"),m(3,"async"),m(4,"async"),m(5,"translate"),b("update",function(r){C(n);let l=_();return w(l.setPage(r))}),s()()}if(i&2){let n=_();a("label","set_page_link")("for","set_page_link"),o(),T("noResultMessage",u(2,5,"no_data_found")),a("data",u(3,7,n.page$)?u(4,9,n.page$):F(13,Y))("placeholder",u(5,11,"select_page"))}}function zt(i,e){if(i&1&&(p(0,"p",25),g(1),m(2,"translate"),s()),i&2){let n,t=_(2);o(),Ue("*",u(2,2,"ensure_that_the_path_creates_a_route_in_the_frontend"),': "',(n=t.form.get("path"))==null?null:n.value,'"')}}function Ht(i,e){i&1&&(p(0,"p",25),g(1),m(2,"translate"),s()),i&2&&(o(),k(u(2,1,"ensure_that_the_url_is_external_link_url")))}function Wt(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"path_is_required")," "))}function Jt(i,e){if(i&1&&(p(0,"app-form-fields",3),m(1,"translate"),c(2,"input",23),m(3,"translate"),f(4,zt,3,4,"p",24)(5,Ht,3,3,"ng-template",null,0,he)(7,Wt,3,3,"div",5),s()),i&2){let n,t,r=ge(6),l=_();a("label",u(1,6,"path"))("for","path"),o(2),T("placeholder",((n=l.form.get("is_target_blank"))==null?null:n.value)===0||((n=l.form.get("is_target_blank"))==null?null:n.value)===!1?"enter_path":u(3,8,"enter_url")),o(2),a("ngIf",((t=l.form.get("is_target_blank"))==null?null:t.value)===0||((t=l.form.get("is_target_blank"))==null?null:t.value)===!1)("ngIfElse",r),o(3),a("ngIf",l.form.controls.path.touched&&(l.form.controls.path.errors==null?null:l.form.controls.path.errors.required))}}function Xt(i,e){i&1&&(p(0,"app-form-fields",3)(1,"div",15)(2,"label",16),c(3,"input",26)(4,"span",18),s()()()),i&2&&a("label","mega_menu")("for","mega_menu_enable")}function Yt(i,e){if(i&1&&(p(0,"li")(1,"div",28),c(2,"input",29),p(3,"label",30),c(4,"div",31),p(5,"div"),c(6,"img",32),p(7,"p",33),g(8),s()()()()()),i&2){let n=e.$implicit;o(2),a("id",n.value)("value",n.value),o(),a("for",n.value),o(3),a("src",n.image,fe)("alt",n.value),o(2),k(n.label)}}function Zt(i,e){if(i&1&&(p(0,"div",35),c(1,"img",36),s(),g(2)),i&2){let n=e.data;o(),L("img-fluid selection-image"),a("src",n.image,fe),o(),x(" ",n.name," ")}}function ei(i,e){if(i&1){let n=I();p(0,"app-form-fields",8)(1,"select2",34),m(2,"translate"),m(3,"async"),m(4,"async"),m(5,"translate"),b("close",function(r){C(n);let l=_(2);return w(l.productDropdown(r))})("search",function(r){C(n);let l=_(2);return w(l.searchProduct(r))}),f(6,Zt,3,4,"ng-template",null,1,he),s()()}if(i&2){let n,t=ge(7),r=_(2);a("label","products")("for","product_ids")("required",!1),o(),T("noResultMessage",u(2,9,"no_data_found")),a("templates",t)("data",(n=u(3,11,r.products$))!=null&&n.length?u(4,13,r.products$):F(17,Y))("placeholder",u(5,15,"select_product"))("customSearchEnabled",!0)("multiple",!0)}}function ti(i,e){if(i&1&&(p(0,"app-form-fields",3),c(1,"select2",37),m(2,"translate"),m(3,"async"),m(4,"async"),m(5,"translate"),s()),i&2){let n=_(2);a("label","blogs")("for","type"),o(),T("noResultMessage",u(2,5,"no_data_found")),a("data",u(3,7,n.blogs$)?u(4,9,n.blogs$):F(13,Y))("placeholder",u(5,11,"select_blogs"))}}function ii(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"banner_image_is_required")," "))}function ni(i,e){if(i&1){let n=I();p(0,"app-form-fields",8)(1,"app-image-upload",38),b("selectedFiles",function(r){C(n);let l=_(2);return w(l.selectThumbnail(r,"banner_image_id"))}),s(),f(2,ii,3,3,"div",5),s()}if(i&2){let n=_(2);a("label","banner")("for","banner_image_id")("required",!1),o(),a("accept",G(7,Se,n.mediaConfig.image))("image",n.menu==null?null:n.menu.banner_image)("multipleImage",!1),o(),a("ngIf",n.form.controls.banner_image_id.touched&&(n.form.controls.banner_image_id.errors==null?null:n.form.controls.banner_image_id.errors.required))}}function ri(i,e){if(i&1&&(qe(0),p(1,"app-form-fields",3)(2,"div")(3,"ul",27),f(4,Yt,9,6,"li",14),s()()(),f(5,ei,8,18,"app-form-fields",11)(6,ti,6,14,"app-form-fields",7)(7,ni,3,9,"app-form-fields",11),Pe()),i&2){let n,t,r,l=_();o(),a("label","mega_menu_type")("for","mega_menu_type"),o(3),a("ngForOf",l.megaMenuLayout),o(),a("ngIf",((n=l.form.get("mega_menu_type"))==null?null:n.value)==="product_box"),o(),a("ngIf",((t=l.form.get("mega_menu_type"))==null?null:t.value)==="blog_box"),o(),a("ngIf",((r=l.form.get("mega_menu_type"))==null?null:r.value)==="bottom_banner"||((r=l.form.get("mega_menu_type"))==null?null:r.value)==="side_banner")}}function oi(i,e){if(i&1){let n=I();p(0,"app-form-fields",8)(1,"app-image-upload",38),b("selectedFiles",function(r){C(n);let l=_();return w(l.selectThumbnail(r,"item_image_id"))}),s()()}if(i&2){let n=_();a("label","link_image")("for","item_image_id")("required",!1),o(),a("accept",G(6,Se,n.mediaConfig.image))("image",n.menu==null?null:n.menu.item_image)("multipleImage",!1)}}function ai(i,e){if(i&1&&(p(0,"li")(1,"div"),c(2,"input",39)(3,"label",40),s()()),i&2){let n=e.$implicit;o(),je("selection-box ",n,""),o(),a("id",n)("value",n),o(),a("for",n)}}function li(i,e){i&1&&(p(0,"div",20),g(1),m(2,"translate"),s()),i&2&&(o(),x(" ",u(2,1,"badge_color_is_required")," "))}var X=class X{constructor(e,n,t,r,l,M){this.formBuilder=e,this.store=n,this.renderer=t,this.route=r,this.document=l,this.router=M,this.mediaConfig=gt,this.colors=["bg-danger","bg-dark","bg-success","bg-warning"],this.destroy$=new _e,this.search=new _e,this.link_type=[{value:"sub",label:"Sub"},{value:"link",label:"Link"}],this.target=[{value:"product",label:"Product"},{value:"blog",label:"Blog"}],this.megaMenuLayout=[{value:"simple",label:"Simple",image:"assets/images/menu/menu_6.png"},{value:"link_with_image",label:"Link With Image",image:"assets/images/menu/menu_1.png"},{value:"side_banner",label:"Side Banner",image:"assets/images/menu/menu_3.png"},{value:"bottom_banner",label:"Bottom Banner",image:"assets/images/menu/menu_4.png"},{value:"product_box",label:"Product Box",image:"assets/images/menu/menu_2.png"},{value:"blog_box",label:"Blog Box",image:"assets/images/menu/menu_5.png"}],this.filter={search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.form=this.formBuilder.group({title:new d("",[E.required]),link_type:new d("sub"),path:new d(""),is_target_blank:new d(0),set_page_link:new d(""),parent_id:new d,mega_menu:new d(1),mega_menu_type:new d("simple"),badge_text:new d(""),badge_color:new d(""),product_ids:new d([]),blog_ids:new d([]),banner_image_id:new d,item_image_id:new d,status:new d(1)})}ngOnInit(){this.store.dispatch(new Ct({status:1})),this.store.dispatch(new be(this.filter)),this.store.dispatch(new wt({status:1})),this.search.pipe(Be(300)).subscribe(e=>{this.renderer.addClass(this.document.body,"loader-none"),this.filter.search=e,this.store.dispatch(new be(this.filter))}),this.route.params.pipe(Ne(e=>e.id?this.store.dispatch(new ue(e.id)).pipe(Ee(()=>this.store.select(y.selectedMenu))):Fe()),Ve(this.destroy$)).subscribe(e=>{e?.product_ids&&(this.filter.paginate=e?.product_ids?.length>=15?e?.product_ids?.length:15,this.filter.ids=e?.product_ids?.join(),this.filter.with_union_products=e?.product_ids?.length?e?.product_ids?.length>=15?0:1:0),this.menu=e,this.form.patchValue({title:this.menu.title,link_type:this.menu.link_type,path:this.menu.path,parent_id:this.menu.parent_id,mega_menu:this.menu.mega_menu,mega_menu_type:this.menu.mega_menu_type,set_page_link:this.menu.set_page_link,badge_text:this.menu.badge_text,is_target_blank:this.menu.is_target_blank,badge_color:this.menu.badge_color,product_ids:this.menu.product_ids,blog_ids:this.menu.blog_ids,banner_image_id:this.menu.banner_image_id,item_image_id:this.menu.item_image_id,status:this.menu.status})}),this.form.controls.mega_menu_type.valueChanges.subscribe(e=>{e==="side_banner"||e==="bottom_banner"?this.form.setControl("banner_image_id",new d("",[E.required])):this.form.setControl("banner_image_id",new d(""))}),this.form.controls.link_type.valueChanges.subscribe(e=>{e==="sub"?(this.form.setControl("path",new d("")),this.form.setControl("is_target_blank",new d(""))):(this.form.setControl("path",new d(this.menu?this.menu.path:"",[E.required])),this.form.setControl("mega_menu",new d(this.menu?this.menu.mega_menu:0,[E.required])),this.form.setControl("is_target_blank",new d(this.menu?this.menu.is_target_blank:0,[E.required])))}),this.form.controls.badge_text.valueChanges.subscribe(e=>{e?.length?this.form.setControl("badge_color",new d(this.menu?this.menu.badge_color:"bg-danger",[E.required])):this.form.setControl("badge_color",new d(""))}),this.form.controls.set_page_link.valueChanges.subscribe(e=>{e?.length?(this.form.setControl("is_target_blank",new d(0,[E.required])),this.form.setControl("badge_color",new d(this.menu?this.menu.badge_color:"bg-danger",[E.required]))):this.form.setControl("badge_color",new d(""))})}setPage(e){if(e&&e.value){let n=e.component.option;this.form.controls.path.setValue(`page/${n.value}`)}else this.form.controls.path.setValue(this.menu?this.menu.path:"")}selectItem(e){Array.isArray(e)&&e.length?(this.form.controls.parent_id.setValue(e[0]),this.form.controls.mega_menu.setValue(0),this.menu$.subscribe(n=>this.selectedMenu=n.data.filter(t=>e?.includes(t.id)))):(this.form.controls.parent_id.setValue(""),this.form.controls.mega_menu.setValue(1))}selectThumbnail(e,n){Array.isArray(e)||this.form.controls[n].setValue(e?e.id:null)}productDropdown(e){e.innerSearchText&&this.search.next("")}searchProduct(e){this.search.next(e.search)}submit(){this.form.markAllAsTouched();let e=new me(this.form.value);this.type=="edit"&&this.menu?.id&&(e=new de(this.form.value,this.menu.id)),this.form.valid&&this.store.dispatch(e).subscribe({complete:()=>{this.type=="create"?(this.form.reset(),this.form.controls.banner_image_id.setValue(""),this.form.controls.item_image_id.setValue(""),this.form.controls.mega_menu.setValue(1),this.form.controls.link_type.setValue("sub")):this.router.navigateByUrl("/menu")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};X.\u0275fac=function(n){return new(n||X)(v(nt),v(K),v(De),v(re),v(Le),v(V))},X.\u0275cmp=S({type:X,selectors:[["app-form-menu"]],inputs:{type:"type"},decls:39,vars:61,consts:[["url",""],["template",""],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for"],["type","text","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["formControlName","link_type",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"label","for",4,"ngIf"],[3,"label","for","required"],[3,"selectedItem","selectSingle","selectedOption","displayKey","subArrayKey","options"],[4,"ngIf"],[3,"label","for","required",4,"ngIf"],["type","text","formControlName","badge_text",1,"form-control",3,"placeholder"],[1,"badge-color-list"],[4,"ngFor","ngForOf"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"],["type","checkbox","id","is_target_blank","formControlName","is_target_blank"],["formControlName","set_page_link","resettable","","multiple","false",1,"custom-select",3,"update","data","placeholder","noResultMessage"],["type","text","formControlName","path",1,"form-control",3,"placeholder"],["class","help-text",4,"ngIf","ngIfElse"],[1,"help-text"],["type","checkbox","id","mega_menu_enable","formControlName","mega_menu"],[1,"mega-menu-list"],[1,"selection-box"],["type","radio","name","mega_menu_type","formControlName","mega_menu_type",3,"id","value"],[3,"for"],[1,"circle"],[1,"img-fluid","dummy-img",3,"src","alt"],[1,"mt-1"],["formControlName","product_ids",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled","multiple"],[1,"image"],[3,"src"],["formControlName","blog_ids","multiple","true",1,"custom-select",3,"data","placeholder","noResultMessage"],[3,"selectedFiles","accept","image","multipleImage"],["type","radio","name","badge_color","formControlName","badge_color",3,"id","value"],[1,"cursor-pointer",3,"for"]],template:function(n,t){if(n&1&&(p(0,"form",2),b("ngSubmit",function(){return t.submit()}),p(1,"app-form-fields",3),m(2,"translate"),c(3,"input",4),m(4,"translate"),f(5,Ot,3,3,"div",5),s(),p(6,"app-form-fields",3),c(7,"select2",6),m(8,"translate"),m(9,"translate"),f(10,Ut,3,3,"div",5),s(),f(11,Gt,6,3,"app-form-fields",7)(12,Qt,6,14,"app-form-fields",7)(13,Jt,8,10,"app-form-fields",7),p(14,"app-form-fields",8),m(15,"translate"),p(16,"app-advanced-dropdown",9),m(17,"async"),m(18,"async"),b("selectedItem",function(l){return t.selectItem(l)}),s()(),f(19,Xt,5,2,"app-form-fields",7)(20,ri,8,6,"ng-container",10)(21,oi,2,8,"app-form-fields",11),p(22,"app-form-fields",3),m(23,"translate"),c(24,"input",12),m(25,"translate"),s(),p(26,"app-form-fields",3)(27,"div")(28,"ul",13),f(29,ai,4,6,"li",14),s()(),f(30,li,3,3,"div",5),s(),p(31,"app-form-fields",3)(32,"div",15)(33,"label",16),c(34,"input",17)(35,"span",18),s()()(),p(36,"app-button",19),g(37),m(38,"translate"),s()()),n&2){let r,l,M,j,q,O,Ie;a("formGroup",t.form),o(),a("label",u(2,36,"title"))("for","title"),o(2),T("placeholder",u(4,38,"enter_title")),o(2),a("ngIf",t.form.controls.title.touched&&(t.form.controls.title.errors==null?null:t.form.controls.title.errors.required)),o(),a("label","link_type")("for","type"),o(),T("noResultMessage",u(8,40,"no_data_found")),a("data",t.link_type!=null&&t.link_type.length?t.link_type:F(56,Y))("placeholder",u(9,42,"select_type")),o(3),a("ngIf",t.form.controls.link_type.touched&&(t.form.controls.link_type.errors==null?null:t.form.controls.link_type.errors.required)),o(),a("ngIf",((r=t.form.get("link_type"))==null?null:r.value)==="link"),o(),a("ngIf",((l=t.form.get("link_type"))==null?null:l.value)==="link"),o(),a("ngIf",((M=t.form.get("link_type"))==null?null:M.value)==="link"),o(),a("label",u(15,44,"select_parent"))("for","category")("required",!1),o(2),a("selectSingle",!0)("selectedOption",t.menu&&t.menu.parent_id?G(57,Se,t.menu.parent_id):F(59,Y))("displayKey","title")("subArrayKey","child")("options",!((j=u(17,46,t.menu$))==null||j.data==null)&&j.data.length?(j=u(18,48,t.menu$))==null?null:j.data:F(60,Y)),o(3),a("ngIf",!((q=t.form.get("parent_id"))!=null&&q.value)&&((q=t.form.get("link_type"))==null?null:q.value)==="sub"),o(),a("ngIf",((O=t.form.get("mega_menu"))==null?null:O.value)===!0||((O=t.form.get("mega_menu"))==null?null:O.value)===1&&((O=t.form.get("link_type"))==null?null:O.value)==="sub"),o(),a("ngIf",t.selectedMenu&&(t.selectedMenu[0]==null?null:t.selectedMenu[0].mega_menu_type)==="link_with_image"&&((Ie=t.form.get("parent_id"))==null?null:Ie.value)),o(),a("label",u(23,50,"badge_text"))("for","badge_text"),o(2),T("placeholder",u(25,52,"enter_badge_text")),o(2),a("label","badge_color")("for","badge_color"),o(3),a("ngForOf",t.colors),o(),a("ngIf",(t.form.controls.badge_color==null?null:t.form.controls.badge_color.touched)&&(t.form.controls.badge_color==null||t.form.controls.badge_color.errors==null?null:t.form.controls.badge_color.errors.required)),o(),a("label","status")("for","status"),o(5),a("id","category_btn"),o(),x(" ",u(38,54,t.type=="create"?"save_menu":"update_menu")," ")}},dependencies:[Q,N,Ye,oe,Je,Ze,ae,Xe,tt,it,dt,ft,yt,vt,mt,ne,W]});var $=X;h([R(y.menu)],$.prototype,"menu$",void 0);h([R(le.products)],$.prototype,"products$",void 0);h([R(pe.blogs)],$.prototype,"blogs$",void 0);h([R(se.pages)],$.prototype,"page$",void 0);var si=()=>[];function mi(i,e){if(i&1){let n=I();p(0,"button",12),b("click",function(){C(n);let r=_(2);return w(r.create())}),g(1),m(2,"translate"),s()}i&2&&(o(),k(u(2,1,"create")))}function ui(i,e){if(i&1&&(p(0,"div",7)(1,"div",8)(2,"button",9),g(3),m(4,"translate"),s(),p(5,"div",10),f(6,mi,3,3,"button",11),s()()()),i&2){let n=_();o(3),x(" ",u(4,2,"action")," "),o(3),a("ngIf",n.type=="edit")}}var Z=class Z{constructor(e,n){this.store=e,this.router=n,this.type="create",this.store.dispatch(new J)}create(){this.router.navigateByUrl("/menu")}};Z.\u0275fac=function(n){return new(n||Z)(v(K),v(V))},Z.\u0275cmp=S({type:Z,selectors:[["app-menu"]],inputs:{type:"type"},decls:10,vars:14,consts:[[1,"row"],[1,"col-xl-4","p-0"],[3,"gridClass","title"],["button","",4,"ngIf"],[3,"data","recursionKey","type"],[1,"col-xl-8","p-0"],[3,"type"],["button",""],["ngbDropdown","",1,"d-inline-block","dropdown-box"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"]],template:function(n,t){if(n&1&&(p(0,"div",0)(1,"div",1)(2,"app-page-wrapper",2),f(3,ui,7,4,"div",3),c(4,"app-menu-tree",4),m(5,"async"),m(6,"async"),s()(),p(7,"div",5)(8,"app-page-wrapper",2),c(9,"app-form-menu",6),s()()()),n&2){let r;o(2),a("gridClass","col-sm-12")("title","menu"),o(),a("ngIf",t.type=="edit"),o(),a("data",!((r=u(5,9,t.menu$))==null||r.data==null)&&r.data.length?(r=u(6,11,t.menu$))==null?null:r.data:F(13,si))("recursionKey","child")("type","menu"),o(4),a("gridClass","col-sm-12")("title","menu"),o(),a("type",t.type)}},dependencies:[N,pt,lt,at,rt,ot,ct,It,$,ne,W]});var A=Z;h([R(y.menu)],A.prototype,"menu$",void 0);var Tt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=S({type:e,selectors:[["app-edit-menu"]],decls:1,vars:1,consts:[[3,"type"]],template:function(r,l){r&1&&c(0,"app-menu",0),r&2&&a("type","edit")},dependencies:[A]});let i=e;return i})();var ci=[{path:"",component:A,canActivate:[Ce],data:{permission:"menu.index"}},{path:"edit/:id",component:Tt,canActivate:[Ce],data:{permission:["menu.index","menu.edit"]}}],kt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[ye.forChild(ci),ye]});let i=e;return i})();var Sn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[Ge,kt,bt,He.forFeature([y,le,pe,se])]});let i=e;return i})();export{Sn as MenuModule};
