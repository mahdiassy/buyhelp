import{Da as u,a as d,m as p,n as h,p as f}from"./chunk-AYDE6MWJ.js";import{$ as l,V as s,ca as c,n,xc as m}from"./chunk-RFGELG3T.js";var v=(()=>{let a=class a{constructor(t){this.payload=t}};a.type="[Vendor Wallet] Transaction Get";let e=a;return e})(),b=(()=>{let a=class a{constructor(t){this.payload=t}};a.type="[Vendor Wallet] Credit";let e=a;return e})(),W=(()=>{let a=class a{constructor(t){this.payload=t}};a.type="[Vendor Wallet] Debit";let e=a;return e})();var S=(()=>{let a=class a{constructor(t){this.http=t}getVendorTransaction(t){return this.http.get(`${d.URL}/wallet/vendor`,{params:t})}credit(t){return this.http.post(`${d.URL}/credit/vendorWallet`,t)}debit(t){return this.http.post(`${d.URL}/debit/vendorWallet`,t)}};a.\u0275fac=function(y){return new(y||a)(c(m))},a.\u0275prov=l({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();var o,i=(o=class{constructor(a,r){this.notificationService=a,this.vendorWalletService=r}static vendorWallet(a){return a.vendorWallet}getVendorTransaction(a,{payload:r}){return this.vendorWalletService.getVendorTransaction(r).pipe(s({next:t=>{a.patchState({vendorWallet:{consumer_id:t?.consumer_id,balance:t?.balance,transactions:{data:t?.transactions?.data,total:t?.transactions?.total?t?.transactions?.total:t?.transactions?.data?.length}}})},error:t=>{throw a.patchState({vendorWallet:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}),new Error(t?.error?.message)}}))}credit(a,r){return this.vendorWalletService.credit(r.payload).pipe(s({next:t=>{a.patchState({vendorWallet:{consumer_id:t?.consumer_id,balance:t?.balance,transactions:{data:t?.transactions?.data,total:t?.transactions?.total?t?.transactions?.total:t?.transactions?.data?.length}}})},complete:()=>{this.notificationService.showSuccess("Balance Credited Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}debit(a,r){return this.vendorWalletService.debit(r.payload).pipe(s({next:t=>{a.patchState({vendorWallet:{consumer_id:t?.consumer_id,balance:t?.balance,transactions:{data:t?.transactions?.data,total:t?.transactions?.total?t?.transactions?.total:t?.transactions?.data?.length}}})},complete:()=>{this.notificationService.showSuccess("Balance Debited Successfully")},error:t=>{throw new Error(t?.error?.message)}}))}},o.\u0275fac=function(r){return new(r||o)(c(u),c(S))},o.\u0275prov=l({token:o,factory:o.\u0275fac}),o);n([p(v)],i.prototype,"getVendorTransaction",null);n([p(b)],i.prototype,"credit",null);n([p(W)],i.prototype,"debit",null);n([f()],i,"vendorWallet",null);i=n([h({name:"vendorWallet",defaults:{vendorWallet:{consumer_id:null,balance:0,transactions:{data:[],total:0}}}})],i);export{v as a,b,W as c,i as d};
