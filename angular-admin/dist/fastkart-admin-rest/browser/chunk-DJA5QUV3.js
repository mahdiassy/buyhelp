import{a as Ne,h as ne}from"./chunk-A5MR6RIS.js";import{a as ei,b as ti,c as ii,d as ri}from"./chunk-YJBHC5EX.js";import{a as ni,h as Be}from"./chunk-YO6WCY4J.js";import{a as H}from"./chunk-Q3KTT2IO.js";import{a as Te,h as ie}from"./chunk-HVSDMYXV.js";import{a as re}from"./chunk-YOJNFG2N.js";import{a as Ve}from"./chunk-RPKBFY3T.js";import{a as qe}from"./chunk-YK6OOJHV.js";import{$ as Ie,$b as Ot,A as rt,B as nt,Bc as Jt,Cc as Xt,E as m,Ea as Se,Ec as Zt,F as lt,Fb as Fe,G as at,H as ot,J as st,K as pt,L as dt,Lb as ee,M as ct,N as mt,O as _t,Oa as X,P as ut,S as ft,Ua as Vt,V as gt,W as vt,X as ht,Y as yt,Yb as te,Z as bt,Zb as $t,_ as xt,_b as Rt,aa as Ct,ab as Bt,ac as jt,ba as wt,bc as Gt,ca as It,cc as Wt,dc as Ut,ec as zt,fb as Ee,gc as Lt,hc as Qt,ic as Ht,k as we,l as et,lb as Z,ma as St,na as kt,o as B,oa as Et,pa as Pt,qa as Ft,qb as Nt,ra as Tt,rb as Mt,rc as Kt,sa as qt,sc as Yt,tb as At,x as tt,y as it,yb as Dt,z as E,zb as Pe}from"./chunk-AYDE6MWJ.js";import{Ca as Oe,Cb as fe,Db as ge,Ea as i,Eb as ve,F as Re,Fa as A,Hb as F,Ib as Q,J as ze,Jc as Xe,Ka as ue,Kb as He,Lb as je,Lc as Ce,Mc as Ze,Nb as p,Ob as d,Oc as Ge,Qa as v,Rb as he,Rc as ke,S as Le,Sa as l,T as Qe,Ua as O,Wa as W,a as De,aa as me,ab as s,ac as ye,bb as o,cb as _,db as D,eb as $,ga as L,gb as P,ha as _e,hc as Ke,i as $e,ic as Ye,jb as w,jc as be,kb as u,mc as xe,n as V,nb as y,oa as x,p as We,pa as C,rb as oe,s as ce,sb as se,tb as pe,tc as Je,u as Ue,ub as U,vb as f,wb as S,xb as b}from"./chunk-RFGELG3T.js";var hi=["csvModal"],yi=["downloadModal"],bi=()=>["/product/create"],Me=()=>[];function xi(r,t){if(r&1){let e=P();s(0,"div",10)(1,"a",11),w("click",function(){x(e);let a=u();return C(a.CSVModal.openModal())}),_(2,"i",12),f(3),p(4,"translate"),o(),s(5,"a",11),w("click",function(){x(e);let a=u();return C(a.export())}),_(6,"i",13),f(7),p(8,"translate"),o(),s(9,"a",14),_(10,"i",15),f(11),p(12,"translate"),o()()}r&2&&(i(3),b(" ",d(4,4,"Import")," "),i(4),b(" ",d(8,6,"Export")," "),i(2),l("routerLink",F(10,bi)),i(2),b(" ",d(12,8,"add_product")," "))}function Ci(r,t){if(r&1){let e=P();s(0,"div",23)(1,"select2",22),p(2,"translate"),p(3,"async"),p(4,"async"),p(5,"translate"),w("update",function(a){x(e);let c=u(2);return C(c.filters(a,"store_ids"))}),o()()}if(r&2){let e,n=u(2);i(),y("noResultMessage",d(2,3,"no_data_found")),l("data",(e=d(3,5,n.store$))!=null&&e.length?d(4,7,n.store$):F(11,Me))("placeholder",d(5,9,"select_store"))}}function wi(r,t){if(r&1){let e=P();s(0,"div",16)(1,"div",17),v(2,Ci,6,12,"div",18),p(3,"async"),p(4,"async"),s(5,"div"),p(6,"async"),p(7,"async"),s(8,"select2",19),p(9,"translate"),p(10,"translate"),w("update",function(a){x(e);let c=u();return C(c.applyFilter(a))}),o()(),s(11,"div",20)(12,"app-advanced-dropdown",21),p(13,"async"),p(14,"async"),w("selectedItem",function(a){x(e);let c=u();return C(c.selectItem(a))}),o()(),s(15,"div"),p(16,"async"),p(17,"async"),s(18,"select2",22),p(19,"translate"),p(20,"async"),p(21,"async"),p(22,"translate"),w("update",function(a){x(e);let c=u();return C(c.filters(a,"brand_ids"))}),o()()()()}if(r&2){let e,n,a,c,g,h=u();i(2),l("ngIf",((e=d(3,15,h.user$))==null||e.role==null?null:e.role.name)!=="vendor"&&((e=d(4,17,h.setting$))==null||e.activation==null?null:e.activation.multivendor)),i(3),W(((n=d(6,19,h.user$))==null||n.role==null?null:n.role.name)!=="vendor"&&(!((n=d(7,21,h.setting$))==null||n.activation==null)&&n.activation.multivendor)?"col-xl-2 col-lg-6 col-md-3 col-sm-6":"col-md-4"),i(3),y("noResultMessage",d(9,23,"no_data_found")),l("placeholder",d(10,25,"select_product_type"))("data",h.mainProductType.length?h.mainProductType:F(43,Me)),i(4),l("text","select_categories")("selectSingle",!1)("options",d(13,27,h.category$)?(a=d(14,29,h.category$))==null?null:a.data:F(44,Me))("subArrayKey","subcategories"),i(3),W(((c=d(16,31,h.user$))==null||c.role==null?null:c.role.name)!=="vendor"&&(!((c=d(17,33,h.setting$))==null||c.activation==null)&&c.activation.multivendor)?"col-xl-3 col-lg-6 col-md-3 col-sm-6":"col-md-4"),i(3),y("noResultMessage",d(19,35,"no_data_found")),l("data",(g=d(20,37,h.brand$))!=null&&g.length?d(21,39,h.brand$):F(45,Me))("placeholder",d(22,41,"select_brands"))}}var le=class le{constructor(t,e,n,a){this.store=t,this.renderer=e,this.document=n,this.router=a,this.mainProductType=[{value:"physical",label:"Physical Product"},{value:"digital",label:"Digital Product"},{value:"external",label:"External/Affiliate product"}],this.filter={search:"",field:"",category_ids:"",brand_ids:"",store_ids:"",sort:"",page:1,paginate:15},this.advanceFilter=[],this.open=!0,this.tableConfig={columns:[{title:"image",dataField:"product_thumbnail",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"sku",dataField:"sku",sortable:!0,sort_direction:"desc"},{title:"price",dataField:"sale_price",type:"price",sortable:!0,sort_direction:"desc"},{title:"stock",dataField:"stock"},{title:"store",dataField:"store_name"},{title:"approved",dataField:"is_approved",type:"switch",canAllow:["admin"]},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"product.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"product.destroy"},{label:"View",actionToPerform:"view",icon:"ri-eye-line"},{label:"Download",actionToPerform:"download",icon:"ri-download-2-line",permission:"product.edit",conditional:{field:"is_file",condition:"!=",value:"0"}}],data:[],total:0},this.setting$.subscribe(c=>{this.url=c.general.site_url})}ngOnInit(){this.store.dispatch(new Fe({status:1})),this.store.dispatch(new Ne({status:1})),this.store.dispatch(new Te({status:1})),this.product$.subscribe(t=>{let e=t?.data?.filter(n=>(n.stock=n.stock_status?`<div class="status-${n.stock_status}"><span>${n.stock_status.replace(/_/g," ")}</span></div>`:"-",n.store_name=n?.store?n?.store?.store_name:"-",n));this.tableConfig.data=t?e:[],this.tableConfig.total=t?t?.total:0})}onTableChange(t){this.filter=De(De({},this.filter),t),this.store.dispatch(new te(this.filter))}applyFilter(t){this.filter.product_type=t&&t.value?t.value:null,this.filter.product_type||delete this.filter.product_type,this.onTableChange(this.filter)}onActionClicked(t){t.actionToPerform=="edit"?this.edit(t.data):t.actionToPerform=="is_approved"?this.approve(t.data):t.actionToPerform=="status"?this.status(t.data):t.actionToPerform=="delete"?this.delete(t.data):t.actionToPerform=="deleteAll"?this.deleteAll(t.data):t.actionToPerform=="duplicate"?this.duplicate(t.data):t.actionToPerform=="download"?this.download(t.data):t.actionToPerform=="view"&&this.view(t.data)}edit(t){this.router.navigateByUrl(`/product/edit/${t.id}`)}approve(t){this.store.dispatch(new Gt(t.id,t.is_approved))}status(t){this.store.dispatch(new jt(t.id,t.status))}delete(t){this.store.dispatch(new Wt(t.id))}deleteAll(t){this.store.dispatch(new Ut(t))}duplicate(t){this.store.dispatch(new zt(t))}download(t){t?.variations?.length?this.DownloadModal.openModal(t):this.store.dispatch(new Qt({product_id:t.id,variation_id:null}))}view(t){window.open(this.url+"/product/"+t.slug,"_blank")}export(){this.store.dispatch(new Lt(this.filter))}openFilter(){this.open=!this.open}selectItem(t){this.renderer.addClass(this.document.body,"loader-none"),Array.isArray(t)&&t.length?this.filter.category_ids=t.join():this.filter.category_ids=[],this.onTableChange(this.filter)}filters(t,e){this.renderer.addClass(this.document.body,"loader-none"),t&&t.value?this.filter[e]=t.value.join():this.filter[e]=[],this.onTableChange(this.filter)}};le.\u0275fac=function(e){return new(e||le)(A(we),A(ue),A(ye),A(Ce))},le.\u0275cmp=L({type:le,selectors:[["app-product"]],viewQuery:function(e,n){if(e&1&&(oe(hi,5),oe(yi,5)),e&2){let a;se(a=pe())&&(n.CSVModal=a.first),se(a=pe())&&(n.DownloadModal=a.first)}},decls:11,vars:8,consts:[["csvModal",""],["downloadModal",""],[3,"gridClass","title"],["class","d-flex flex-wrap gap-3","button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox","hasDuplicate"],["filter","",1,"top-panel-selection"],[1,"align-items-center","btn","d-flex","h-100","btn-outline","fs-5","px-3","py-1",3,"click"],[1,"ri-filter-3-line"],["advanceFilter","","class","show-box mb-4 d-block product-category-option",4,"ngIf"],[3,"module"],["button","",1,"d-flex","flex-wrap","gap-3"],["href","javascript:void(0)",1,"align-items-center","btn","btn-outline",3,"click"],[1,"ri-upload-2-line"],[1,"ri-download-2-line"],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"],["advanceFilter","",1,"show-box","mb-4","d-block","product-category-option"],[1,"row","g-sm-4","g-3"],["class","col-xl-3 col-lg-6 col-md-3 col-sm-6",4,"ngIf"],["resettable","",1,"custom-select",3,"update","placeholder","data","noResultMessage"],[1,"col-xl-4","col-lg-6","col-md-3","col-sm-6"],[3,"selectedItem","text","selectSingle","options","subArrayKey"],["multiple","true","resettable","",1,"custom-select",3,"update","data","placeholder","noResultMessage"],[1,"col-xl-3","col-lg-6","col-md-3","col-sm-6"]],template:function(e,n){if(e&1){let a=P();s(0,"app-page-wrapper",2),v(1,xi,13,11,"div",3),s(2,"app-table",4),w("tableChanged",function(g){return x(a),C(n.onTableChange(g))})("rowClicked",function(g){return x(a),C(n.edit(g))})("action",function(g){return x(a),C(n.onActionClicked(g))}),s(3,"div",5)(4,"button",6),w("click",function(){return x(a),C(n.openFilter())}),_(5,"i",7),o()(),v(6,wi,23,46,"div",8),o()(),_(7,"app-import-csv-modal",9,0)(9,"app-digital-download-modal",null,1)}e&2&&(l("gridClass","col-sm-12")("title","products"),i(),l("hasPermission","product.create"),i(),l("tableConfig",n.tableConfig)("hasCheckbox",!0)("hasDuplicate",!0),i(4),l("ngIf",n.open),i(),l("module","product"))},dependencies:[be,Ze,Ee,Nt,Z,Pe,Jt,Xt,Bt,xe,ke]});var j=le;V([B(H.product)],j.prototype,"product$",void 0);V([B(X.setting)],j.prototype,"setting$",void 0);V([B(ee.category)],j.prototype,"category$",void 0);V([B(ne.brands)],j.prototype,"brand$",void 0);V([B(ie.stores)],j.prototype,"store$",void 0);V([B(Se.user)],j.prototype,"user$",void 0);function Ae(r){let t=r.value;return t==null||t===""||/^\d+(\.\d{1,2})?$/.test(t)?null:{invalidPrice:!0}}var Ii=["nav"],Si=()=>({standalone:!0}),q=()=>[],Y=r=>[r],ki=(r,t,e)=>[r,t,e],oi=(r,t,e,n)=>[r,t,e,n];function Ei(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"product_type_is_required")," "))}function Pi(r,t){if(r&1&&(s(0,"app-form-fields",35),_(1,"select2",55),p(2,"translate"),p(3,"translate"),v(4,Ei,3,3,"div",37),o()),r&2){let e=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","product_type")("for","product_type")("required",!0),i(),y("noResultMessage",d(2,9,"no_data_found")),l("placeholder",d(3,11,"select_product_type"))("data",e.mainProductType!=null&&e.mainProductType.length?e.mainProductType:F(13,q)),i(3),l("ngIf",e.form.controls.product_type.touched&&(e.form.controls.product_type.errors==null?null:e.form.controls.product_type.errors.required))}}function Fi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"store_is_required")," "))}function Ti(r,t){if(r&1&&(s(0,"app-form-fields",35),_(1,"select2",57),p(2,"translate"),p(3,"translate"),p(4,"async"),p(5,"async"),v(6,Fi,3,3,"div",37),o()),r&2){let e,n=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","store")("for","store")("required",!0),i(),y("noResultMessage",d(2,9,"no_data_found")),l("placeholder",d(3,11,"select_store"))("data",(e=d(4,13,n.store$))!=null&&e.length?d(5,15,n.store$):F(17,q)),i(5),l("ngIf",n.form.controls.store_id.touched&&(n.form.controls.store_id.errors==null?null:n.form.controls.store_id.errors.required))}}function qi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"name_is_required")," "))}function Vi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"short_description_is_required")," "))}function Bi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"description_is_required")," "))}function Ni(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"tax_is_required")," "))}function Mi(r,t){if(r&1){let e=P();s(0,"div",33),v(1,Pi,5,14,"app-form-fields",34)(2,Ti,7,18,"app-form-fields",34),p(3,"async"),p(4,"async"),s(5,"app-form-fields",35),_(6,"input",36),p(7,"translate"),v(8,qi,3,3,"div",37),o(),s(9,"app-form-fields",35),_(10,"textarea",38),p(11,"translate"),s(12,"p",39),f(13),o(),v(14,Vi,3,3,"div",37),o(),s(15,"app-form-fields",35)(16,"div",40)(17,"div",41)(18,"input",42),ve("ngModelChange",function(a){x(e);let c=u();return ge(c.isCodeEditor,a)||(c.isCodeEditor=a),C(a)}),o(),s(19,"label",43)(20,"span",44),_(21,"i",45),o(),s(22,"span",46),_(23,"i",47),o()()(),s(24,"div",48),_(25,"ngx-editor-menu",49),s(26,"ngx-editor",50),ve("ngModelChange",function(a){x(e);let c=u();return ge(c.html,a)||(c.html=a),C(a)}),w("ngModelChange",function(a){x(e);let c=u();return C(c.getData(a))}),o()(),s(27,"div",51)(28,"textarea",52),p(29,"translate"),w("keyup",function(a){x(e);let c=u();return C(c.getText(a))}),o(),s(30,"p",53),f(31,"*Only accept html tags"),o()(),v(32,Bi,3,3,"div",37),o()(),s(33,"app-form-fields",35),_(34,"select2",54),p(35,"translate"),p(36,"translate"),p(37,"async"),p(38,"async"),v(39,Ni,3,3,"div",37),o()()}if(r&2){let e,n,a=u();i(),l("ngIf",a.type=="create"),i(),l("ngIf",((e=d(3,43,a.setting$))==null||e.activation==null?null:e.activation.multivendor)&&((e=d(4,45,a.user$))==null||e.role==null?null:e.role.name)==="admin"),i(3),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","name")("for","name")("required",!0),i(),y("placeholder",d(7,47,"enter_product_name")),i(2),l("ngIf",a.form.controls.name.touched&&(a.form.controls.name.errors==null?null:a.form.controls.name.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","short_description")("for","short_description")("required",!0),i(),y("placeholder",d(11,49,"enter_short_description")),i(3),S("*Maximum length should be 300 characters."),i(),l("ngIf",a.form.controls.short_description.touched&&(a.form.controls.short_description.errors==null?null:a.form.controls.short_description.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","description")("for","description")("required",!0),i(3),fe("ngModel",a.isCodeEditor),l("ngModelOptions",F(61,Si)),i(6),l("ngClass",a.isCodeEditor?"d-block":"d-none"),i(),l("editor",a.editor),i(),l("editor",a.editor)("placeholder","Type here..."),fe("ngModel",a.html),i(),l("ngClass",a.isCodeEditor?"d-none":"d-block"),i(),y("placeholder",d(29,51,"enter_html_content")),l("formControl",a.textArea),i(4),l("ngIf",a.form.controls.description.touched&&(a.form.controls.description.errors==null?null:a.form.controls.description.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","tax")("for","tax")("required",!0),i(),y("noResultMessage",d(35,53,"no_data_found")),l("placeholder",d(36,55,"select_tax"))("data",(n=d(37,57,a.tax$))!=null&&n.length?d(38,59,a.tax$):F(62,q))("id","tax_id"),i(5),l("ngIf",a.form.controls.tax_id.touched&&(a.form.controls.tax_id.errors==null?null:a.form.controls.tax_id.errors.required))}}function Ai(r,t){if(r&1){let e=P();s(0,"app-form-fields",35)(1,"app-image-upload",66),p(2,"async"),w("selectedFiles",function(a){x(e);let c=u(2);return C(c.selectSizeImage(a))}),o()()}if(r&2){let e,n=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Size Chart")("for","size_chart_image_id")("required",!1),i(),l("accept",Q(11,Y,n.mediaConfig.image))("multipleImage",!1)("image",(e=d(2,9,n.product$))==null?null:e.size_chart_image)("helpText","*Upload an image showcasing the size chart tailored for fashion products. A table format image is suggested for easy reference.")}}function Di(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"watermark_position_is_required")," "))}function $i(r,t){r&1&&(s(0,"div",69),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"watermark_image_is_required")," "))}function Ri(r,t){if(r&1){let e=P();D(0),s(1,"app-form-fields",35),_(2,"select2",67),p(3,"translate"),p(4,"translate"),v(5,Di,3,3,"div",37),o(),s(6,"app-form-fields",35)(7,"app-image-upload",59),p(8,"async"),w("selectedFiles",function(a){x(e);let c=u(2);return C(c.selectWatermarkImage(a))}),o(),v(9,$i,3,3,"div",68),o(),$()}if(r&2){let e,n=u(2);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","watermark_position")("for","watermark_postion")("required",!0),i(),y("noResultMessage",d(3,19,"no_data_found")),l("placeholder",d(4,21,"select_watermark_position"))("data",n.waterMakrPosition!=null&&n.waterMakrPosition.length?n.waterMakrPosition:F(25,q)),i(3),l("ngIf",n.form.controls.watermark_position.touched&&(n.form.controls.watermark_position.errors==null?null:n.form.controls.watermark_position.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Watermark_image")("for","Watermark_image")("required",!0),i(),l("multipleImage",!1)("accept",Q(26,Y,n.mediaConfig.image))("image",(e=d(8,23,n.product$))==null?null:e.watermark_image)("helpText","*Upload image size 180x50px recommended"),i(2),l("ngIf",n.form.controls.watermark_image_id.touched&&(n.form.controls.watermark_image_id.errors==null?null:n.form.controls.watermark_image_id.errors.required))}}function Oi(r,t){if(r&1){let e=P();s(0,"div",58)(1,"app-form-fields",35)(2,"app-image-upload",59),p(3,"async"),w("selectedFiles",function(a){x(e);let c=u();return C(c.selectThumbnail(a))}),o()(),s(4,"app-form-fields",35)(5,"app-image-upload",60),p(6,"async"),w("selectedFiles",function(a){x(e);let c=u();return C(c.selectImages(a))}),o()(),v(7,Ai,3,13,"app-form-fields",34),s(8,"app-form-fields",35)(9,"div",61)(10,"label",62),_(11,"input",63)(12,"span",64),o(),s(13,"p",39),f(14),o()()(),v(15,Ri,10,28,"ng-container",65),o()}if(r&2){let e,n,a=u();i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","thumbnail")("for","product_thumbnail_id")("required",!1),i(),l("multipleImage",!1)("accept",Q(30,Y,a.mediaConfig.image))("image",(e=d(3,26,a.product$))==null?null:e.product_thumbnail)("helpText","*Upload image size 600x600px recommended"),i(2),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","images")("for","product_galleries_id")("required",!1),i(),l("multipleImage",!0)("accept",He(32,ki,a.mediaConfig.image,a.mediaConfig.video,a.mediaConfig.audio))("images",(n=d(6,28,a.product$))==null?null:n.product_galleries)("helpText","*Upload image size 600x600px recommended"),i(2),l("ngIf",(a.form.controls.product_type==null?null:a.form.controls.product_type.value)!="digital"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","watermark")("for","watermark")("required",!1),i(6),S("*Enabling this setting will apply a watermark to images"),i(),l("ngIf",a.form.controls.watermark==null?null:a.form.controls.watermark.value)}}function ji(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"type_is_required")," "))}function Gi(r,t){if(r&1&&(s(0,"app-form-fields",35),_(1,"select2",74),p(2,"translate"),p(3,"translate"),v(4,ji,3,3,"div",37),o()),r&2){let e=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","type")("for","type")("required",!0),i(),y("noResultMessage",d(2,9,"no_data_found")),l("placeholder",d(3,11,"select_type"))("data",e.productType!=null&&e.productType.length?e.productType:F(13,q)),i(3),l("ngIf",e.form.controls.type.touched&&(e.form.controls.type.errors==null?null:e.form.controls.type.errors.required))}}function Wi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"external_url_is_required")," "))}function Ui(r,t){if(r&1&&(D(0),s(1,"app-form-fields",35),_(2,"input",75),p(3,"translate"),v(4,Wi,3,3,"div",37),o(),s(5,"app-form-fields",35),_(6,"input",76),p(7,"translate"),o(),$()),r&2){let e=u(2);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","external_url")("for","external_url")("required",!0),i(),y("placeholder",d(3,13,"enter_external_url")),i(2),l("ngIf",(e.form==null||e.form.controls.external_url==null?null:e.form.controls.external_url.touched)&&(e.form==null||e.form.controls.external_url==null||e.form.controls.external_url.errors==null?null:e.form.controls.external_url.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","external_button_text")("for","external_button_text")("required",!1),i(),y("placeholder",d(7,15,"enter_external_button_text"))}}function zi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"stock_is_required")," "))}function Li(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"sku_is_required")," "))}function Qi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"quantity_is_required")," "))}function Hi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"price_is_required")," "))}function Ki(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"please_enter_a_valid_price")," "))}function Yi(r,t){if(r&1&&(s(0,"app-form-fields",35),_(1,"select2",84),p(2,"translate"),p(3,"translate"),s(4,"p",39),f(5),o()()),r&2){let e=u(3);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","wholesale_price_type")("for","wholesale_price_type")("required",!1),i(),y("noResultMessage",d(2,9,"no_data_found")),l("placeholder",d(3,11,"select_wholesale_price_type"))("data",e.wholesalePriceType!=null&&e.wholesalePriceType.length?e.wholesalePriceType:F(13,q)),i(4),S("*Enabling this feature will present wholesale prices as a table list on the frontend.")}}function Ji(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"min_qty_is_required")," "))}function Xi(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"max_qty_is_required")," "))}function Zi(r,t){if(r&1&&(s(0,"div",77)(1,"span",78),f(2),p(3,"async"),p(4,"async"),o(),_(5,"input",96),p(6,"translate"),o()),r&2){let e,n=u().index,a=u(4);i(2),b(" ",!((e=d(3,3,a.setting$))==null||e.general==null)&&e.general.default_currency.symbol?(e=d(4,5,a.setting$))==null||e.general==null?null:e.general.default_currency.symbol:"$"," "),i(3),y("placeholder",d(6,7,"enter_price")),l("id","wvalue"+n)}}function er(r,t){if(r&1&&(s(0,"div",77),_(1,"input",97),p(2,"translate"),s(3,"span",78),f(4,"%"),o()()),r&2){let e=u().index;i(),y("placeholder",d(2,2,"enter_percentage_value")),l("id","wvalue"+e)}}function tr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"field_is_required")," "))}function ir(r,t){if(r&1){let e=P();s(0,"div",87)(1,"div",88)(2,"app-form-fields",89),_(3,"input",90),p(4,"translate"),v(5,Ji,3,3,"div",37),o()(),s(6,"div",88)(7,"app-form-fields",89),_(8,"input",91),p(9,"translate"),v(10,Xi,3,3,"div",37),o()(),s(11,"div",92)(12,"app-form-fields",89),v(13,Zi,7,9,"div",93)(14,er,5,4,"div",93)(15,tr,3,3,"div",37),o()(),s(16,"div",94)(17,"a",95),w("click",function(){let a=x(e).index,c=u(4);return C(c.removeWholesalePrice(a))}),f(18),p(19,"translate"),o()()()}if(r&2){let e,n,a,c=t.$implicit,g=t.index,h=u(4);y("formGroupName",g),i(2),l("label","min_qty")("for","min_qty"+g),i(),y("placeholder",d(4,17,"enter_min_qty")),l("id","min_qty"+g),i(2),l("ngIf",c.get("min_qty").touched&&((e=c.get("min_qty").errors)==null?null:e.required)),i(2),l("label","max_qty")("for","max_qty"+g),i(),y("placeholder",d(9,19,"enter_max_qty")),l("id","max_qty"+g),i(2),l("ngIf",c.get("max_qty").touched&&((n=c.get("max_qty").errors)==null?null:n.required)),i(2),l("label",h.form.controls.wholesale_price_type.value=="fixed"?"price":"percentage")("for","wvalue"+g),i(),l("ngIf",h.form.controls.wholesale_price_type.value=="fixed"),i(),l("ngIf",h.form.controls.wholesale_price_type.value=="percentage"),i(),l("ngIf",c.get("value").touched&&((a=c.get("value").errors)==null?null:a.required)),i(3),b(" ",d(19,21,"remove")," ")}}function rr(r,t){if(r&1&&(D(0,85),v(1,ir,20,23,"div",86),$()),r&2){let e=u(3);i(),l("ngForOf",e.wholesalePriceControl.controls)}}function nr(r,t){if(r&1){let e=P();s(0,"button",98),w("click",function(a){x(e);let c=u(3);return C(c.addWholesalePrice(a))}),f(1),p(2,"translate"),o()}r&2&&(W("btn btn-theme mb-4"),l("id","add_w_more"),i(),b(" ",d(2,4,"add_more")," "))}function lr(r,t){if(r&1&&(D(0),s(1,"app-form-fields",35)(2,"div",77)(3,"span",78),f(4),p(5,"async"),p(6,"async"),o(),_(7,"input",79),p(8,"translate"),o(),v(9,Hi,3,3,"div",37)(10,Ki,3,3,"div",37),o(),s(11,"app-form-fields",35)(12,"div",77),_(13,"input",80),p(14,"translate"),s(15,"span",78),f(16,"%"),o()()(),s(17,"app-form-fields",35)(18,"div",77)(19,"span",78),f(20),p(21,"async"),p(22,"async"),o(),_(23,"input",81),p(24,"translate"),o()(),v(25,Yi,6,14,"app-form-fields",34)(26,rr,2,1,"ng-container",82)(27,nr,3,6,"button",83),$()),r&2){let e,n,a,c=u(2);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","price")("for","price")("required",!0),i(3),b(" ",!((e=d(5,26,c.setting$))==null||e.general==null)&&e.general.default_currency.symbol?(e=d(6,28,c.setting$))==null||e.general==null?null:e.general.default_currency.symbol:"$"," "),i(3),y("placeholder",d(8,30,"enter_price")),i(2),l("ngIf",c.form.controls.price.touched&&(c.form.controls.price.errors==null?null:c.form.controls.price.errors.required)),i(),l("ngIf",c.form.controls.price.touched&&(c.form.controls.price.errors==null?null:c.form.controls.price.errors.invalidPrice)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","discount")("for","discount_value")("required",!1),i(2),y("placeholder",d(14,32,"enter_discount")),i(4),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_price")("for","sale_price")("required",!1),i(3),b(" ",!((n=d(21,34,c.setting$))==null||n.general==null)&&n.general.default_currency.symbol?(n=d(22,36,c.setting$))==null||n.general==null?null:n.general.default_currency.symbol:"$"," "),i(3),y("placeholder",d(24,38,"sale_price")),y("value",(((a=c.form.get("price"))==null?null:a.value)-((a=c.form.get("price"))==null?null:a.value)*((a=c.form.get("discount"))==null?null:a.value)/100).toFixed(2)),i(2),l("ngIf",c.form.controls.product_type.value!="external"),i(),l("ngIf",c.form.controls.wholesale_price_type.value&&c.form.controls.product_type.value!="external"),i(),l("ngIf",c.form.controls.wholesale_price_type.value&&c.form.controls.product_type.value!="external")}}function ar(r,t){if(r&1&&(s(0,"div",70),v(1,Gi,5,14,"app-form-fields",34)(2,Ui,8,17,"ng-container",65),s(3,"app-form-fields",35),_(4,"select2",71),p(5,"translate"),p(6,"translate"),v(7,zi,3,3,"div",37),o(),s(8,"app-form-fields",35),_(9,"input",72),p(10,"translate"),v(11,Li,3,3,"div",37),o(),s(12,"app-form-fields",35),_(13,"input",73),p(14,"translate"),v(15,Qi,3,3,"div",37),o(),v(16,lr,28,40,"ng-container",65),o()),r&2){let e=u();i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)!="external"),i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)=="external"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_status")("for","stock_status")("required",!0),i(),y("noResultMessage",d(5,26,"no_data_found")),l("placeholder",d(6,28,"select_stock_status"))("data",e.stocks!=null&&e.stocks.length?e.stocks:F(34,q)),i(3),l("ngIf",(e.form==null||e.form.controls.stock_status==null?null:e.form.controls.stock_status.touched)&&(e.form==null||e.form.controls.stock_status==null||e.form.controls.stock_status.errors==null?null:e.form.controls.stock_status.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sku")("for","sku")("required",!0),i(),y("placeholder",d(10,30,"enter_sku")),i(2),l("ngIf",e.form.controls.sku.touched&&(e.form.controls.sku.errors==null?null:e.form.controls.sku.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_quantity")("for","quantity")("required",!0),i(),y("placeholder",d(14,32,"enter_quantity")),i(2),l("ngIf",e.form.controls.quantity.touched&&(e.form.controls.quantity.errors==null?null:e.form.controls.quantity.errors.required)),i(),l("ngIf",e.form.controls.type.value=="simple")}}function or(r,t){if(r&1){let e=P();s(0,"div",87)(1,"div",105)(2,"app-form-fields",89)(3,"select2",106),p(4,"translate"),p(5,"async"),p(6,"async"),p(7,"translate"),w("update",function(a){let c=x(e).index,g=u(3);return C(g.updateAttribute(a,c))}),o()()(),s(8,"div",105)(9,"app-form-fields",89)(10,"select2",107),p(11,"translate"),p(12,"translate"),w("update",function(a){let c=x(e).index,g=u(3);return C(g.updateAttributeValue(a,c))}),o()()(),s(13,"div",94)(14,"a",95),w("click",function(){let a=x(e).index,c=u(3);return C(c.removeVariant(a))}),f(15),p(16,"translate"),o()()()}if(r&2){let e,n,a=t.$implicit,c=t.index,g=u(3);y("formGroupName",c),i(2),l("label","attribute")("for","attribute"+c),i(),y("noResultMessage",d(4,13,"no_data_found")),l("data",(e=d(5,15,g.attribute$))!=null&&e.length?d(6,17,g.attribute$):F(27,q))("placeholder",d(7,19,"select_attribute")),i(6),l("label","value")("for","value"+c),i(),y("noResultMessage",d(11,21,"no_data_found")),l("data",(n=a.get("variant_option").value)!=null&&n.length?a.get("variant_option").value:F(28,q))("placeholder",d(12,23,"select_value"))("multiple",!0),i(5),b(" ",d(16,25,"remove")," ")}}function sr(r,t){if(r&1){let e=P();s(0,"button",98),w("click",function(a){x(e);let c=u(3);return C(c.addVariant(a))}),f(1),p(2,"translate"),o()}r&2&&(W("btn btn-theme mb-4"),l("id","add_variant"),i(),b(" ",d(2,4,"add_variant")," "))}function pr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"name_is_required")," "))}function dr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"price_is_required")," "))}function cr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"please_enter_a_valid_price")," "))}function mr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"quantity_is_required")," "))}function _r(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"sku_is_required")," "))}function ur(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"stock_is_required")," "))}function fr(r,t){if(r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",129)(4,"span",64),o()()()),r&2){let e=u(4).index;l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","is_licensekey_auto")("for","is_licensekey_auto"+e)("required",!1)}}function gr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"separator_is_required")," "))}function vr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"license_key_is_required")," "))}function hr(r,t){if(r&1&&(D(0),s(1,"app-form-fields",35),_(2,"select2",130),p(3,"translate"),p(4,"translate"),v(5,gr,3,3,"div",37),o(),s(6,"app-form-fields",35),p(7,"translate"),_(8,"textarea",131),p(9,"translate"),v(10,vr,3,3,"div",37),o(),$()),r&2){let e,n,a=u(4),c=a.$implicit,g=a.index,h=u(4);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","separator")("for","separator"+g)("required",!0),i(),y("noResultMessage",d(3,16,"no_data_found")),l("data",h.separators.length?h.separators:F(24,q))("placeholder",d(4,18,"select_separator")),i(3),l("ngIf",c.get("separator").touched&&((e=c.get("separator").errors)==null?null:e.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(7,20,"license_key"))("for","license_key"+g)("required",!0),i(2),y("placeholder",d(9,22,"enter_license_key")),i(2),l("ngIf",c.get("license_keys").touched&&((n=c.get("license_keys").errors)==null?null:n.required))}}function yr(r,t){if(r&1&&(D(0),v(1,fr,5,5,"app-form-fields",34)(2,hr,11,25,"ng-container",65),$()),r&2){let e,n=u(3).$implicit;i(),l("ngIf",((e=n.get("digital_file_ids"))==null?null:e.value)&&((e=n.get("digital_file_ids"))==null||e.value==null?null:e.value.length)),i(),l("ngIf",!n.get("is_licensekey_auto").value)}}function br(r,t){if(r&1){let e=P();D(0),s(1,"app-form-fields",35)(2,"app-image-upload",127),w("selectedFiles",function(a){x(e);let c=u(2).index,g=u(4);return C(g.selectVariationMainFiles(a,c))}),o()(),s(3,"app-form-fields",35)(4,"div",61)(5,"label",62),_(6,"input",128)(7,"span",64),o()()(),v(8,yr,3,2,"ng-container",65),$()}if(r&2){let e=u(2),n=e.$implicit,a=e.index,c=u(4);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","upload_main_files")("for","digital_file_id"+a)("required",!1),i(),l("multipleImage",!0)("accept",je(14,oi,c.mediaConfig.image,c.mediaConfig.video,c.mediaConfig.audio,c.mediaConfig.downloadFile))("images",n.get("digital_files").value),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","licensable")("for","is_licensable"+a)("required",!1),i(5),l("ngIf",n.get("is_licensable").value)}}function xr(r,t){if(r&1){let e=P();s(0,"app-form-fields",35),p(1,"translate"),_(2,"input",118),p(3,"translate"),v(4,pr,3,3,"div",37),o(),s(5,"app-form-fields",35)(6,"div",77)(7,"span",78),f(8),p(9,"async"),p(10,"async"),o(),_(11,"input",119),p(12,"translate"),o(),v(13,dr,3,3,"div",37)(14,cr,3,3,"div",37),o(),s(15,"app-form-fields",35),p(16,"translate"),s(17,"div",77),_(18,"input",120),p(19,"translate"),s(20,"span",78),f(21,"%"),o()()(),s(22,"app-form-fields",35)(23,"div",77)(24,"span",78),f(25),p(26,"async"),p(27,"async"),o(),_(28,"input",121),p(29,"translate"),o()(),s(30,"app-form-fields",35),p(31,"translate"),_(32,"input",122),p(33,"translate"),v(34,mr,3,3,"div",37),o(),s(35,"app-form-fields",35),_(36,"input",123),p(37,"translate"),v(38,_r,3,3,"div",37),o(),s(39,"app-form-fields",35),_(40,"select2",71),p(41,"translate"),p(42,"translate"),v(43,ur,3,3,"div",37),o(),s(44,"app-form-fields",35)(45,"app-image-upload",124),w("selectedFiles",function(a){x(e);let c=u().index,g=u(4);return C(g.selectVariationImage(a,c))}),o()(),v(46,br,9,19,"ng-container",65),s(47,"app-form-fields",125)(48,"div",61)(49,"label",62),_(50,"input",126)(51,"span",64),o()()()}if(r&2){let e,n,a,c,g,h,R,I,G,z=u(),T=z.$implicit,k=z.index,N=u(4);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(1,73,"name"))("for","variation_name"+k)("required",!0),i(2),y("placeholder",d(3,75,"enter_name")),l("id","variation_name"+k),i(2),l("ngIf",T.get("name").touched&&((e=T.get("name").errors)==null?null:e.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Price")("for","price"+k)("required",!0),i(3),b(" ",!((n=d(9,77,N.setting$))==null||n.general==null)&&n.general.default_currency.symbol?(n=d(10,79,N.setting$))==null||n.general==null?null:n.general.default_currency.symbol:"$"," "),i(3),y("placeholder",d(12,81,"enter_price")),l("id","price"+k),i(2),l("ngIf",T.get("price").touched&&((a=T.get("price").errors)==null?null:a.required)),i(),l("ngIf",T.get("price").touched&&((c=T.get("price"))==null||c.errors==null?null:c.errors.invalidPrice)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(16,83,"discount"))("for","discount_value"+k)("required",!1),i(3),y("placeholder",d(19,85,"enter_discount")),l("id","discount_value"+k),i(4),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_price")("for","sale_price"+k)("required",!1),i(3),b(" ",!((g=d(26,87,N.setting$))==null||g.general==null)&&g.general.default_currency.symbol?(g=d(27,89,N.setting$))==null||g.general==null?null:g.general.default_currency.symbol:"$"," "),i(3),y("placeholder",d(29,91,"enter_sale_price")),y("value",(((h=T.get("price"))==null?null:h.value)-((h=T.get("price"))==null?null:h.value)*((h=T.get("discount"))==null?null:h.value)/100).toFixed(2)),l("id","sale_price"+k),i(2),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(31,93,"stock_quantity"))("for","quantity"+k)("required",!0),i(2),y("placeholder",d(33,95,"enter_quantity")),l("id","quantity"+k),i(2),l("ngIf",T.get("quantity").touched&&((R=T.get("quantity").errors)==null?null:R.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sku")("for","sku"+k)("required",!0),i(),y("placeholder",d(37,97,"enter_sku")),l("id","sku"+k),i(2),l("ngIf",T.get("sku").touched&&((I=T.get("sku").errors)==null?null:I.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_status")("for","stock_status"+k)("required",!0),i(),y("noResultMessage",d(41,99,"no_data_found")),l("placeholder",d(42,101,"select_stock_status"))("data",N.stocks!=null&&N.stocks.length?N.stocks:F(103,q)),i(3),l("ngIf",T.get("stock_status").touched&&((G=T.get("stock_status").errors)==null?null:G.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","image")("for","variation_image_id"+k)("required",!1),i(),l("multipleImage",!1)("accept",Q(104,Y,N.mediaConfig.image))("image",T.get("variation_image").value),i(),l("ngIf",N.form.controls.product_type.value=="digital"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","status")("for","active_variation_status"+k),i(3),l("id","active_variation_status"+k)}}function Cr(r,t){if(r&1&&(s(0,"div",113)(1,"div",114)(2,"button",115),f(3),o()(),s(4,"div",116)(5,"div",117),v(6,xr,52,106,"ng-template"),o()()()),r&2){let e=t.$implicit,n=t.index;y("formGroupName",n),l("collapsed",!1),i(3),S(e.get("variation_name").value)}}function wr(r,t){if(r&1&&(s(0,"div",108)(1,"h3",109),f(2),p(3,"translate"),o(),D(4,110),s(5,"div",111),v(6,Cr,7,3,"div",112),o(),$(),o()),r&2){let e=u(3);i(2),S(d(3,2,"variants")),i(4),l("ngForOf",e.variationControl==null?null:e.variationControl.controls)}}function Ir(r,t){if(r&1&&(s(0,"div",101)(1,"div",102),D(2,103),v(3,or,17,29,"div",86),$(),v(4,sr,3,6,"button",83),p(5,"async"),v(6,wr,7,4,"div",104),o()()),r&2){let e,n=u(2);i(3),l("ngForOf",n.variantControl.controls),i(),l("ngIf",(e=d(5,3,n.attribute$))==null?null:e.length),i(2),l("ngIf",n.variationControl==null||n.variationControl.controls==null?null:n.variationControl.controls.length)}}function Sr(r,t){if(r&1&&(s(0,"li",99)(1,"a",12),_(2,"i",100),f(3),p(4,"translate"),o(),v(5,Ir,7,5,"ng-template",14),o()),r&2){let e=u();O("is-invalid",e.tabError.includes("variations")),i(3),S(d(4,3,"variations"))}}function kr(r,t){r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",129)(4,"span",64),o()()()),r&2&&l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","is_licensekey_auto")("for","is_licensekey_auto")("required",!1)}function Er(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"separator_is_required")," "))}function Pr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"license_key_is_required")," "))}function Fr(r,t){if(r&1&&(D(0),s(1,"app-form-fields",35),_(2,"select2",137),p(3,"translate"),p(4,"translate"),v(5,Er,3,3,"div",37),o(),s(6,"app-form-fields",35),p(7,"translate"),_(8,"textarea",138),p(9,"translate"),v(10,Pr,3,3,"div",37),o(),$()),r&2){let e=u(5);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","separator")("for","separator")("required",!0),i(),y("noResultMessage",d(3,16,"no_data_found")),l("data",e.separators.length?e.separators:F(24,q))("placeholder",d(4,18,"select_separator")),i(3),l("ngIf",e.form.controls.separator.touched&&(e.form.controls.separator.errors==null?null:e.form.controls.separator.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(7,20,"license_key"))("for","license_key")("required",!0),i(2),y("placeholder",d(9,22,"enter_license_key")),i(2),l("ngIf",e.form.controls.license_key.touched&&(e.form.controls.license_key.errors==null?null:e.form.controls.license_key.errors.required))}}function Tr(r,t){if(r&1&&(D(0),v(1,kr,5,5,"app-form-fields",34)(2,Fr,11,25,"ng-container",65),$()),r&2){let e=u(4);i(),l("ngIf",e.form.controls.digital_file_ids.value&&(e.form.controls.digital_file_ids==null||e.form.controls.digital_file_ids.value==null?null:e.form.controls.digital_file_ids.value.length)),i(),l("ngIf",!(e.form.controls.is_licensekey_auto!=null&&e.form.controls.is_licensekey_auto.value))}}function qr(r,t){if(r&1){let e=P();D(0),s(1,"app-form-fields",35)(2,"app-image-upload",136),p(3,"async"),w("selectedFiles",function(a){x(e);let c=u(3);return C(c.selectMainFiles(a))}),o()(),s(4,"app-form-fields",35)(5,"div",61)(6,"label",62),_(7,"input",128)(8,"span",64),o()()(),v(9,Tr,3,2,"ng-container",65),$()}if(r&2){let e,n=u(3);i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","upload_main_files")("for","upload_main_files")("required",!1),i(),l("accept",je(16,oi,n.mediaConfig.image,n.mediaConfig.video,n.mediaConfig.audio,n.mediaConfig.downloadFile))("multipleImage",!0)("images",(e=d(3,14,n.product$))==null?null:e.digital_files),i(2),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","licensable")("for","is_licensable")("required",!1),i(5),l("ngIf",n.form.controls.is_licensable==null?null:n.form.controls.is_licensable.value)}}function Vr(r,t){if(r&1){let e=P();s(0,"app-form-fields",35)(1,"app-image-upload",139),p(2,"async"),w("selectedFiles",function(a){x(e);let c=u(3);return C(c.selectPreviewVideoFile(a))}),o()()}if(r&2){let e,n=u(3);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","preview_video_file")("for","preview_video_file")("required",!1),i(),l("accept",Q(10,Y,n.mediaConfig.video))("multipleImage",!1)("image",(e=d(2,8,n.product$))==null?null:e.preview_video_file)}}function Br(r,t){if(r&1){let e=P();s(0,"app-form-fields",35)(1,"app-image-upload",124),p(2,"async"),w("selectedFiles",function(a){x(e);let c=u(3);return C(c.selectPreviewAudioFile(a))}),o()()}if(r&2){let e,n=u(3);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","preview_audio_file")("for","preview_audio_file")("required",!1),i(),l("multipleImage",!1)("accept",Q(10,Y,n.mediaConfig.audio))("image",(e=d(2,8,n.product$))==null?null:e.preview_audio_file)}}function Nr(r,t){r&1&&(s(0,"app-form-fields",35),_(1,"input",140),p(2,"translate"),o()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","preview_url")("for","preview_url")("required",!1),i(),y("placeholder",d(2,6,"enter_preview_url")))}function Mr(r,t){if(r&1&&(s(0,"div",134),v(1,qr,10,21,"ng-container",65),s(2,"app-form-fields",35),_(3,"select2",135),p(4,"translate"),p(5,"translate"),o(),v(6,Vr,3,12,"app-form-fields",34)(7,Br,3,12,"app-form-fields",34)(8,Nr,3,8,"app-form-fields",34),o()),r&2){let e=u(2);i(),l("ngIf",(e.form.controls.type==null?null:e.form.controls.type.value)=="simple"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","preview_type")("for","preview_type")("required",!0),i(),y("noResultMessage",d(4,12,"no_data_found")),l("data",e.previewType.length?e.previewType:F(16,q))("placeholder",d(5,14,"select_preview_type")),i(3),l("ngIf",(e.form.controls.preview_type==null?null:e.form.controls.preview_type.value)=="video"),i(),l("ngIf",(e.form.controls.preview_type==null?null:e.form.controls.preview_type.value)=="audio"),i(),l("ngIf",(e.form.controls.preview_type==null?null:e.form.controls.preview_type.value)=="url")}}function Ar(r,t){if(r&1&&(s(0,"li",132)(1,"a",12),_(2,"i",133),f(3),p(4,"translate"),o(),v(5,Mr,9,17,"ng-template",14),o()),r&2){let e=u();O("is-invalid",e.tabError.includes("digital")),i(3),S(d(4,3,"digital_product"))}}function Dr(r,t){if(r&1){let e=P();s(0,"span",154),w("mouseenter",function(){let a=x(e).$implicit,c=u(2);return C(c.hoveredDate=a)})("mouseleave",function(){x(e);let a=u(2);return C(a.hoveredDate=null)}),f(1),o()}if(r&2){let e=t.$implicit,n=t.focused,a=u(2);O("focused",n)("range",a.isRange(e))("faded",a.isHovered(e)||a.isInside(e)),i(),b(" ",e.day," ")}}function $r(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"start_date_is_required")," "))}function Rr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"end_date_is_required")," "))}function Or(r,t){r&1&&(s(0,"app-form-fields",35),_(1,"input",155),p(2,"translate"),s(3,"p",39),f(4),o()()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","unit")("for","unit")("required",!1),i(),y("placeholder",d(2,7,"enter_unit")),i(3),S("*Specify the measurement unit, such as 10 Pieces, 1 KG, 1 Ltr, etc."))}function jr(r,t){r&1&&(s(0,"div",56),f(1),p(2,"translate"),o()),r&2&&(i(),b(" ",d(2,1,"categories_is_required")," "))}function Gr(r,t){if(r&1&&(s(0,"div",157),_(1,"img",158),o(),f(2)),r&2){let e=t.data;i(),W("img-fluid selection-image"),l("src",e.image,Oe),i(),b(" ",e.name," ")}}function Wr(r,t){if(r&1){let e=P();s(0,"app-form-fields",35),p(1,"translate"),s(2,"select2",156),p(3,"translate"),p(4,"async"),p(5,"async"),p(6,"translate"),w("close",function(a){x(e);let c=u(2);return C(c.productDropdown(a))})("search",function(a){x(e);let c=u(2);return C(c.searchProduct(a))}),v(7,Gr,3,4,"ng-template",null,5,he),o(),s(9,"p",39),f(10),o()()}if(r&2){let e,n=U(8),a=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",d(1,12,"related_products"))("for","related_product_id")("required",!1),i(2),y("noResultMessage",d(3,14,"no_data_found")),l("templates",n)("data",(e=d(4,16,a.products$))!=null&&e.length?d(5,18,a.products$):F(22,q))("placeholder",d(6,20,"select_product"))("customSearchEnabled",!0)("multiple",!0),i(8),S("*Choose a maximum of 6 products for effective related products display.")}}function Ur(r,t){if(r&1&&(s(0,"div",157),_(1,"img",158),o(),f(2)),r&2){let e=t.data;i(),W("img-fluid selection-image"),l("src",e.image,Oe),i(),b(" ",e.name," ")}}function zr(r,t){if(r&1){let e=P();s(0,"app-form-fields",35)(1,"select2",159),p(2,"translate"),p(3,"translate"),w("close",function(a){x(e);let c=u(2);return C(c.productDropdown(a))})("search",function(a){x(e);let c=u(2);return C(c.searchProduct(a))}),v(4,Ur,3,4,"ng-template",null,5,he),o(),s(6,"p",39),f(7),o()()}if(r&2){let e=U(5),n=u(2);l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","cross_sell_products")("for","cross_sell_products")("required",!1),i(),y("noResultMessage",d(2,12,"no_data_found")),l("templates",e)("data",n.collectionProduct!=null&&n.collectionProduct.length?n.collectionProduct:F(16,q))("placeholder",d(3,14,"select_product"))("customSearchEnabled",!0)("multiple",!0),i(6),S("*Choose a maximum of 3 products for effective cross-selling display.")}}function Lr(r,t){if(r&1){let e=P();s(0,"div",141)(1,"app-form-fields",35)(2,"div",61)(3,"label",62),_(4,"input",142)(5,"span",64),o()()(),s(6,"div")(7,"app-form-fields",35)(8,"div",143)(9,"div",77)(10,"input",144,1),w("dateSelect",function(a){x(e);let c=u();return C(c.onDateSelection(a))}),o(),v(12,Dr,2,7,"ng-template",null,2,he),o()(),s(14,"div",145)(15,"input",146,3),p(17,"translate"),w("input",function(){x(e);let a=U(16),c=u();return C(c.fromDate=c.validateInput(c.fromDate,a.value))}),o(),s(18,"button",147),w("click",function(){x(e);let a=U(11);return C(a.toggle())}),_(19,"i",148),o()(),v(20,$r,3,3,"div",37),o(),s(21,"app-form-fields",35)(22,"div",145)(23,"input",149,4),p(25,"translate"),w("input",function(){x(e);let a=U(24),c=u();return C(c.toDate=c.validateInput(c.toDate,a.value))}),o(),s(26,"button",147),w("click",function(){x(e);let a=U(11);return C(a.toggle())}),_(27,"i",148),o()(),v(28,Rr,3,3,"div",37),o()(),v(29,Or,5,9,"app-form-fields",34),s(30,"app-form-fields",35)(31,"app-advanced-dropdown",150),p(32,"async"),p(33,"async"),w("selectedItem",function(a){x(e);let c=u();return C(c.selectTagItem(a))}),o()(),s(34,"app-form-fields",35)(35,"app-advanced-dropdown",151),p(36,"async"),p(37,"async"),w("selectedItem",function(a){x(e);let c=u();return C(c.selectCategoryItem(a))}),o(),v(38,jr,3,3,"div",37),o(),s(39,"app-form-fields",35),_(40,"select2",152),p(41,"translate"),p(42,"translate"),p(43,"async"),p(44,"async"),o(),s(45,"app-form-fields",35)(46,"div",61)(47,"label",62),_(48,"input",153)(49,"span",64),o(),s(50,"p",39),f(51),o()()(),v(52,Wr,11,23,"app-form-fields",34)(53,zr,8,17,"app-form-fields",34),o()}if(r&2){let e,n,a,c,g=U(13),h=u();i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_status")("for","is_sale_enable")("required",!1),i(6),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Sale Start Date")("for","sale_starts_at")("required",!1),i(3),l("autoClose","outside")("displayMonths",2)("dayTemplate",g)("startDate",h.fromDate),i(5),y("placeholder",d(17,61,"yyyy-mm-dd")),l("value",h.formatter.format(h.fromDate)),i(5),l("ngIf",(h.form==null||h.form.controls.sale_starts_at==null?null:h.form.controls.sale_starts_at.touched)&&(h.form==null||h.form.controls.sale_starts_at==null||h.form.controls.sale_starts_at.errors==null?null:h.form.controls.sale_starts_at.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Sale End Date")("for","sale_expired_at")("required",!1),i(2),y("placeholder",d(25,63,"yyyy-mm-dd")),l("value",h.formatter.format(h.toDate)),i(5),l("ngIf",(h.form==null||h.form.controls.sale_expired_at==null?null:h.form.controls.sale_expired_at.touched)&&(h.form==null||h.form.controls.sale_expired_at==null||h.form.controls.sale_expired_at.errors==null?null:h.form.controls.sale_expired_at.errors.required)),i(),l("ngIf",(h.form.controls.product_type==null?null:h.form.controls.product_type.value)!="digital"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","tags")("for","tags")("required",!1),i(),l("position","bottom")("selectedOption",h.selectedTags)("options",!((e=d(32,65,h.tag$))==null||e.data==null)&&e.data.length?(e=d(33,67,h.tag$))==null?null:e.data:F(81,q)),i(3),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","categories")("for","categories")("required",!0),i(),l("position","bottom")("selectedOption",h.selectedCategories)("options",!((n=d(36,69,h.category$))==null||n.data==null)&&n.data.length?(n=d(37,71,h.category$))==null?null:n.data:F(82,q))("subArrayKey","subcategories")("id","categories"),i(3),l("ngIf",h.form.controls.categories.touched&&(h.form.controls.categories.errors==null?null:h.form.controls.categories.errors.required)),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","brand")("for","brand_id")("required",!1),i(),y("noResultMessage",d(41,73,"no_data_found")),l("placeholder",d(42,75,"select_brand"))("data",(a=d(43,77,h.brand$))!=null&&a.length?d(44,79,h.brand$):F(83,q)),i(5),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","random_related_product")("for","is_random_related_products")("required",!1),i(6),S("*Enabling this option allows the backend to randomly select 6 products for display."),i(),l("ngIf",!((c=h.form.get("is_random_related_products"))!=null&&c.value)),i(),l("ngIf",(h.form.controls.product_type==null?null:h.form.controls.product_type.value)=="physical")}}function Qr(r,t){if(r&1){let e=P();s(0,"div",160)(1,"app-form-fields",35),_(2,"input",161),p(3,"translate"),o(),s(4,"app-form-fields",35),_(5,"textarea",162),p(6,"translate"),o(),s(7,"app-form-fields",35)(8,"app-image-upload",124),p(9,"async"),w("selectedFiles",function(a){x(e);let c=u();return C(c.selectMetaImage(a))}),o()()()}if(r&2){let e,n=u();i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_title")("for","meta_title")("required",!1),i(),y("placeholder",d(3,20,"enter_meta_title")),i(2),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_description")("for","meta_desc")("required",!1),i(),y("placeholder",d(6,22,"enter_meta_description")),i(2),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_image")("for","meta_image")("required",!1),i(),l("multipleImage",!1)("accept",Q(26,Y,n.mediaConfig.image))("image",(e=d(9,24,n.product$))==null?null:e.product_meta_image)}}function Hr(r,t){r&1&&(s(0,"div",165)(1,"app-form-fields",35)(2,"div",61)(3,"label",62),_(4,"input",166)(5,"span",64),o()()(),s(6,"app-form-fields",35),_(7,"input",167),s(8,"p",39),f(9),o()(),s(10,"app-form-fields",35),_(11,"input",168),p(12,"translate"),s(13,"p",39),f(14),o()(),s(15,"app-form-fields",35)(16,"div",61)(17,"label",62),_(18,"input",169)(19,"span",64),o(),s(20,"p",39),f(21),o()()(),s(22,"app-form-fields",35),_(23,"input",170),p(24,"translate"),s(25,"p",39),f(26),o()()()),r&2&&(i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","free_shipping")("for","free_shipping")("required",!1),i(5),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","weight")("for","weight")("required",!1),i(3),S("*Specify the weight of this product in Gms."),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","estimated_delivery_text")("for","estimated_delivery_text")("required",!1),i(),y("placeholder",d(12,31,"enter_estimated_delivery_text")),i(3),S("*Specify delivery text e.g Your order is likely to reach you within 5 to 10 days."),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","return")("for","return")("required",!1),i(6),S("*Enable to make the product eligible for returns."),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","return_policy_text")("for","return_policy_text")("required",!1),i(),y("placeholder",d(24,33,"enter_return_policy_text")),i(3),S("*Specify return text e.g Hassle free 7, 15 and 30 days return might be available."))}function Kr(r,t){if(r&1&&(s(0,"li",163)(1,"a",12),_(2,"i",164),f(3),p(4,"translate"),o(),v(5,Hr,27,35,"ng-template",14),o()),r&2){let e=u();O("is-invalid",e.tabError.includes("shipping")),i(3),S(d(4,3,"shipping"))}}function Yr(r,t){r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",176)(4,"span",64),o(),s(5,"p",39),f(6),o()()()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","safe_checkout")("for","safe_checkout")("required",!1),i(6),S("*A safe checkout image will appear on the product page. Modify the image in the theme options."))}function Jr(r,t){r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",177)(4,"span",64),o(),s(5,"p",39),f(6),o()()()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","secure_checkout")("for","secure_checkout")("required",!1),i(6),S("*A secure checkout image will appear on the product page. Modify the image in the theme options."))}function Xr(r,t){r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",178)(4,"span",64),o(),s(5,"p",39),f(6),o()()()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","encourage_order")("for","encourage_order")("required",!1),i(6),S("*A random order count between 1 and 100 will be displayed to motivate user purchases."))}function Zr(r,t){r&1&&(s(0,"app-form-fields",35)(1,"div",61)(2,"label",62),_(3,"input",179)(4,"span",64),o(),s(5,"p",39),f(6),o()()()),r&2&&(l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","encourage_view")("for","encourage_view")("required",!1),i(6),S("*this feature encourages users to view products by presenting engaging content or prompts."))}function en(r,t){if(r&1&&(s(0,"div",171)(1,"app-form-fields",35)(2,"div",61)(3,"label",62),_(4,"input",172)(5,"span",64),o(),s(6,"p",39),f(7),o()()(),v(8,Yr,7,6,"app-form-fields",34)(9,Jr,7,6,"app-form-fields",34),s(10,"app-form-fields",35)(11,"div",61)(12,"label",62),_(13,"input",173)(14,"span",64),o(),s(15,"p",39),f(16),o()()(),v(17,Xr,7,6,"app-form-fields",34)(18,Zr,7,6,"app-form-fields",34),s(19,"app-form-fields",35)(20,"div",61)(21,"label",62),_(22,"input",174)(23,"span",64),o(),s(24,"p",39),f(25),o()()(),s(26,"app-form-fields",35)(27,"div",61)(28,"label",62),_(29,"input",175)(30,"span",64),o(),s(31,"p",39),f(32),o()()()()),r&2){let e=u();i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","featured")("for","product_featured")("required",!1),i(6),S("*Enabling this option will display a Featured tag on the product."),i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)!="digital"),i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)!="digital"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","social_share")("for","social_share")("required",!1),i(6),S("*Enable this option to allow users to share the product on social media platforms."),i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)!="digital"),i(),l("ngIf",(e.form.controls.product_type==null?null:e.form.controls.product_type.value)!="digital"),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","trending")("for","is_trending")("required",!1),i(6),S("*Enabling this will showcase the product in the sidebar of the product page as a trending item."),i(),l("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","status")("for","status")("required",!1),i(6),S("*Toggle between Enabled and Disabled to control the availability of the product for purchase.")}}function tn(r,t){if(r&1){let e=P();s(0,"app-button",180),w("click",function(){x(e);let a=u();return C(a.submit(!1))}),f(1),p(2,"translate"),o()}r&2&&(W("btn btn-theme ms-auto mt-4 me-2"),l("id","product_save_btn")("type","button"),i(),b(" ",d(2,5,"save_and_continue")," "))}function ai(r){return new Ie(r.year,r.month,r.day)}var ae=class ae{constructor(t,e,n,a,c,g,h,R){this.store=t,this.route=e,this.router=n,this.formBuilder=a,this.calendar=c,this.formatter=g,this.renderer=h,this.document=R,this.active="general",this.tabError=[],this.selectedCategories=[],this.selectedTags=[],this.variationCombinations=[],this.retrieveVariants=!1,this.variantCount=0,this.hoveredDate=null,this.destroy$=new $e,this.mediaConfig=At,this.html="",this.isCodeEditor=!0,this.mainProductType=[{value:"physical",label:"Physical Product"},{value:"digital",label:"Digital Product"},{value:"external",label:"External/Affiliate product"}],this.productType=[{value:"simple",label:"Simple Product"},{value:"classified",label:"Variable Product"}],this.stocks=[{value:"in_stock",label:"In Stock"},{value:"out_of_stock",label:"Out of Stock"}],this.wholesalePriceType=[{value:"fixed",label:"Fixed"},{value:"percentage",label:"Percentage"}],this.separators=[{value:"comma",label:"Comma ( , )"},{value:"semicolon",label:"Semicolon ( ; )"},{value:"pipe",label:"Pipe ( | )"}],this.waterMakrPosition=[{value:"top-left",label:"Top Left"},{value:"top",label:"Top"},{value:"top-right",label:"Top Right"},{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"bottom-left",label:"Bottom Left"},{value:"bottom",label:"Bottom"},{value:"bottom-right",label:"Bottom Right"}],this.previewType=[{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"url",label:"URL"}],this.filter={search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.variants=[{id:null,attribute_values:null,options:null,variant_option:null}],this.variations=[],this.wholesalePrices=[],this.search=new $e,this.textArea=new m(""),this.store.dispatch(new Te({status:1,is_approved:1})),this.store.dispatch(new Kt({status:1})),this.store.dispatch(new Yt({status:1})),this.store.dispatch(new Fe({type:"product",status:1})),this.store.dispatch(new Ht({type:"product",status:1})),this.store.dispatch(new ni({status:1})),this.store.dispatch(new Ne({status:1})),this.attribute$=this.store.select(re.attributes).pipe(ce(I=>I(""))),this.form=this.formBuilder.group({product_type:new m("physical",[E.required]),name:new m("",[E.required]),short_description:new m("",[E.required]),description:new m("",[E.required]),store_id:new m,type:new m("simple",[E.required]),digital_file_ids:new m,preview_type:new m("url"),preview_audio_file_id:new m,preview_video_file_id:new m,is_licensable:new m(0),is_licensekey_auto:new m(0),license_key:new m,separator:new m,preview_url:new m,is_external:new m(0),external_url:new m,external_button_text:new m,unit:new m,weight:new m,stock_status:new m("in_stock",[]),sku:new m("",[E.required]),quantity:new m("",[E.required]),price:new m("",[E.required,Ae]),discount:new m,wholesale_price_type:new m,wholesale_prices:this.formBuilder.array([],[]),is_sale_enable:new m(0),sale_starts_at:new m,sale_expired_at:new m,tags:new m,categories:new m("",[E.required]),brand_id:new m(""),is_random_related_products:new m(0),related_products:new m,cross_sell_products:new m([]),product_thumbnail_id:new m,watermark:new m(0),watermark_position:new m("center"),watermark_image_id:new m,product_galleries_id:new m,size_chart_image_id:new m,variants:this.formBuilder.array([],[]),variations:this.formBuilder.array([],[]),attributes_ids:new m([]),meta_title:new m,meta_description:new m,product_meta_image_id:new m,safe_checkout:new m(1),secure_checkout:new m(1),social_share:new m(1),encourage_order:new m(1),encourage_view:new m(1),is_free_shipping:new m(0),tax_id:new m("",[E.required]),estimated_delivery_text:new m,return_policy_text:new m,is_featured:new m(0),is_trending:new m(0),is_return:new m(0),status:new m(1)})}getText(t){this.form.controls.description.setValue(this.textArea.value)}getData(t){this.textArea.setValue(this.html)}get variantControl(){return this.form.get("variants")}get variationControl(){return this.form.get("variations")}get wholesalePriceControl(){return this.form.get("wholesale_prices")}ngOnInit(){this.editor=new ri,this.type=="create"&&this.store.dispatch(new te(this.filter)),this.search.pipe(Re(300)).subscribe(e=>{this.renderer.addClass(this.document.body,"loader-none"),this.filter.search=e,e&&this.store.dispatch(new te(this.filter))}),this.route.params.pipe(Le(e=>e.id?this.store.dispatch(new Rt(e.id)).pipe(Ue(()=>this.store.select(H.selectedProduct))):We()),Qe(this.destroy$)).subscribe(e=>{if(e?.related_products&&e?.cross_sell_products){let n=[...e?.related_products,...e?.cross_sell_products];this.filter.paginate=n?.length>=15?n?.length:15,this.filter.ids=n?.join(),this.filter.with_union_products=n?.length?n?.length>=15?0:1:0}this.store.dispatch(new te(this.filter)).subscribe({next:()=>{this.fromDate=e?.sale_starts_at?ai(this.formatter.parse(e?.sale_starts_at)):null,this.toDate=e?.sale_expired_at?ai(this.formatter.parse(e?.sale_expired_at)):null,this.selectedCategories=e?.categories.map(I=>I?.id),this.selectedTags=e?.tags.map(I=>I?.id);let n=e?.attributes.map(I=>I?.id),a=e?.product_galleries.map(I=>I?.id),c=e?.digital_files.map(I=>I?.id),g=",";e?.separator=="comma"?g=",":e?.separator=="semicolon"?g=";":e?.separator=="pipe"&&(g="|");let h=e?.license_keys.map(I=>I.license_key).join(g);e&&(this.product=e),this.id=e?.id,this.form.patchValue({product_type:e?.product_type?e?.product_type:"physical",name:e?.name,short_description:e?.short_description,description:e?.description,store_id:e?.store_id,type:e?.type,is_external:e?.is_external,external_url:e?.external_url,external_button_text:e?.external_button_text,is_licensable:e?.is_licensable,is_licensekey_auto:e?.is_licensekey_auto,separator:e?.separator,license_key:h,digital_file_ids:c,preview_type:e?.preview_type,preview_video_file_id:e?.preview_video_file_id,preview_audio_file_id:e?.preview_audio_file_id,preview_url:e?.preview_url,wholesale_price_type:e?.wholesale_price_type,unit:e?.unit,weight:e?.weight,stock_status:e?.stock_status,sku:e?.sku,quantity:e?.quantity,price:e?.price,discount:e?.discount,is_sale_enable:e?.is_sale_enable,sale_starts_at:e?.sale_starts_at,sale_expired_at:e?.sale_expired_at,tags:this.selectedTags,categories:this.selectedCategories,brand_id:e?.brand_id,is_random_related_products:e?.is_random_related_products,related_products:e?.related_products,cross_sell_products:e?.cross_sell_products,product_thumbnail_id:e?.product_thumbnail_id,product_galleries_id:a,watermark:0,watermark_position:e?.watermark_position,watermark_image_id:e?.watermark_image_id,size_chart_image_id:e?.size_chart_image_id,attributes_ids:n,meta_title:e?.meta_title,meta_description:e?.meta_description,product_meta_image_id:e?.product_meta_image_id,safe_checkout:e?.safe_checkout,secure_checkout:e?.secure_checkout,social_share:e?.social_share,encourage_order:e?.encourage_order,encourage_view:e?.encourage_view,is_free_shipping:e?.is_free_shipping,is_return:e?.is_return,tax_id:e?.tax_id,estimated_delivery_text:e?.estimated_delivery_text,return_policy_text:e?.return_policy_text,is_featured:e?.is_featured,is_trending:e?.is_trending,status:e?.status});let R=n?.map(I=>{let G=e?.variations.filter(k=>k.attribute_values.some(N=>N?.attribute_id==I)),z=G?.reduce((k,N)=>{let J=N.attribute_values.filter(K=>K?.attribute_id==I).map(K=>K?.id);return J?[...new Set([...k,...J])]:k},[]),T=G?.reduce((k,N)=>{let J=N.attribute_values.find(K=>K.attribute_id==I);return k.some(K=>K?.value==J?.id)||k.push({label:J?.value,value:J?.id}),k},[]);return{id:I,attribute_values:z,options:T,variant_option:[]}});this.variants=R,this.variations=e?.variations,e?.type=="classified"?(this?.variants?.forEach(I=>{this.variantControl.push(this.formBuilder.group({id:new m(I?.id,[]),attribute_values:new m(I?.attribute_values,[]),options:new m(I?.options,[]),variant_option:new m(I?.variant_option,[])}))}),this.retrieveVariants=!0):this.clearVariations(),e?.wholesale_price_type&&e?.wholesales?.length&&e?.wholesales?.forEach(I=>{this.wholesalePriceControl.push(this.formBuilder.group({id:new m(I?.id,[]),min_qty:new m(I?.min_qty,[E.required]),max_qty:new m(I?.max_qty,[E.required]),value:new m(I?.value,[E.required])}))})}})}),this.type=="create"&&this.variants.forEach(e=>this.variantControl.push(this.formBuilder.group({id:new m(e?.id,[]),attribute_values:new m(e?.attribute_values,[]),options:new m(e?.attribute_values,[]),variant_option:new m(e?.variant_option,[])}))),this.variantControl.valueChanges.pipe(Re(200),ze()).subscribe(e=>{let n=e.filter(g=>g.id!=null).map(g=>g.id);this.attribute$=this.store.select(re.attributes).pipe(ce(g=>g(n.join(","))));let a=e.filter(g=>g.attribute_values!=null),c=a?.map(g=>g.id);this.form.controls.attributes_ids.setValue(c),this.variationCombinations=this.generateCombinations(a),this.addVariation()}),this.products$.subscribe(e=>{this.collectionProduct=e?.length?e.filter(n=>n?.data?.type=="simple"&&n?.data?.stock_status=="in_stock"):[]}),this.setting$.subscribe(e=>{e?.activation?.multivendor?this.form.controls.store_id.setValidators([E.required]):this.form.controls.store_id.removeValidators([])}),this.user$.subscribe(e=>{e?.role&&e?.role?.name=="vendor"&&this.form.controls.store_id.setValue(e.store?.id)});let t=["license_key","separator"];["is_licensable","is_licensekey_auto"].forEach(e=>{this.form.controls[e].valueChanges.subscribe(n=>{if(this.form.controls.product_type.value=="digital"){let a=this.form.controls.is_licensable.value&&e==="is_licensekey_auto"&&!n?[E.required]:[];t.forEach(c=>{this.form.controls[c].setValidators(a),this.form.controls[c].updateValueAndValidity()})}})}),this.form.controls.product_type.valueChanges.subscribe(e=>{e==="external"?this.form.controls.external_url.setValidators([E.required]):this.form.controls.external_url.clearValidators(),this.form.controls.external_url.updateValueAndValidity()}),this.form.controls.watermark.valueChanges.subscribe(e=>{e?this.form.controls.watermark_image_id.setValidators([E.required]):this.form.controls.watermark_image_id.clearValidators(),this.form.controls.watermark_image_id.updateValueAndValidity()}),this.form.controls.type.valueChanges.subscribe(e=>{e=="simple"?this.form.controls.price.setValidators([E.required,Ae]):this.form.controls.price.clearValidators(),this.form.controls.price.updateValueAndValidity()})}textUpdate(t){}productDropdown(t){t.innerSearchText&&this.search.next("")}searchProduct(t){this.search.next(t.search)}addVariant(t){t.preventDefault(),this.variantControl.push(this.formBuilder.group({id:new m,attribute_values:new m,options:new m,variant_option:new m}))}removeVariant(t){this.variantControl.length<=1||this.variantControl.removeAt(t)}addWholesalePrice(t){t.preventDefault(),this.wholesalePriceControl.markAllAsTouched(),this.wholesalePriceControl.valid&&this.wholesalePriceControl.push(this.formBuilder.group({id:new m,min_qty:new m("",[E.required]),max_qty:new m("",[E.required]),value:new m("",[E.required])}))}removeWholesalePrice(t){this.wholesalePriceControl.length<=1||this.wholesalePriceControl.removeAt(t)}getAttributeValues(t){return this.store.select(re.attribute_value).pipe(ce(e=>e(t||null)))}updateAttribute(t,e){let a=this.form.get("variants").at(e),c=null;this.getAttributeValues(t?+t?.value:null).subscribe(g=>c=g),a.patchValue({variant_option:c}),this.variantCount++,this.retrieveVariants||a.patchValue({attribute_values:null,options:null}),this.variantCount==this.variants?.length&&(this.retrieveVariants=!1)}onDateSelection(t){!this.fromDate&&!this.toDate?this.fromDate=t:this.fromDate&&!this.toDate&&t&&t.after(this.fromDate)?this.toDate=t:(this.toDate=null,this.fromDate=t),this.fromDate&&this.form.controls.sale_starts_at.setValue(`${this.fromDate.year}-${this.fromDate.month}-${this.fromDate.day}`),this.toDate&&this.form.controls.sale_expired_at.setValue(`${this.toDate?.year}-${this.toDate?.month}-${this.toDate?.day}`)}isHovered(t){return this.fromDate&&!this.toDate&&this.hoveredDate&&t.after(this.fromDate)&&t.before(this.hoveredDate)}isInside(t){return this.toDate&&t.after(this.fromDate)&&t.before(this.toDate)}isRange(t){return t.equals(this.fromDate)||this.toDate&&t.equals(this.toDate)||this.isInside(t)||this.isHovered(t)}validateInput(t,e){let n=this.formatter.parse(e);return n&&this.calendar.isValid(Ie.from(n))?Ie.from(n):t}updateAttributeValue(t,e){this.form.get("variants").at(e).patchValue({options:t?.options})}clearVariations(){this.form.get("variations").clear()}addVariation(){this.clearVariations(),this.variationCombinations.length&&this.variationCombinations.forEach(t=>{let e=this.variations.findIndex(c=>c.attribute_values.every(g=>t?.attribute_values.includes(+g?.id))),n;e!=-1&&this.variations[e]&&(n=this.variations[e]);let a;if(n&&n.separator){let c=",";n?.separator=="comma"?c=",":n?.separator=="semicolon"?c=";":n?.separator=="pipe"&&(c="|"),a=n?.license_keys.map(g=>g.license_key).join(c)}this.variationControl.push(this.formBuilder.group({id:new m(n?.id,[]),variation_name:new m(t?.name,[]),name:new m(n?.name,[E.required]),price:new m(n?.price,[E.required,Ae]),discount:new m(n?.discount,[]),stock_status:new m(n?.stock_status?n?.stock_status:"in_stock",[E.required]),sku:new m(n?.sku,[E.required]),quantity:new m(n?.quantity,[E.required]),variation_image_id:new m(n?.variation_image_id,[]),variation_image:new m(n?.variation_image,[]),digital_file_ids:new m(n?.digital_file_ids,[]),digital_files:new m(n?.digital_files,[]),attribute_values:new m(t?.attribute_values,[]),is_licensable:new m(n?.is_licensable?n?.is_licensable:0),is_licensekey_auto:new m(n?.is_licensekey_auto?n?.is_licensekey_auto:0),license_keys:new m(a||""),separator:new m(n?.separator),status:new m(n?+n?.status:1)}))})}removeVariation(t){this.variationControl.length<=1||this.variationControl.removeAt(t)}selectCategoryItem(t){Array.isArray(t)&&this.form.controls.categories.setValue(t)}selectTagItem(t){Array.isArray(t)&&this.form.controls.tags.setValue(Array.isArray(t)?t:[])}selectThumbnail(t){Array.isArray(t)||this.form.controls.product_thumbnail_id.setValue(t?t?.id:null)}selectImages(t){let e=Array.isArray(t)?t?.map(n=>n&&n?.id):[];this.form.controls.product_galleries_id.setValue(e)}selectSizeImage(t){Array.isArray(t)||this.form.controls.size_chart_image_id.setValue(t?t.id:null)}selectMetaImage(t){Array.isArray(t)||this.form.controls.product_meta_image_id.setValue(t?t.id:null)}selectVariationImage(t,e){this.form.get("variations").at(+e).patchValue({variation_image_id:t?t.id:""})}selectWatermarkImage(t){Array.isArray(t)||this.form.controls.watermark_image_id.setValue(t?t.id:null)}selectMainFiles(t){let e=Array.isArray(t)?t?.map(n=>n?.id):[];this.form.controls.digital_file_ids.setValue(e),e.length||this.form.controls.is_licensekey_auto.setValue(!1)}selectPreviewVideoFile(t){Array.isArray(t)||this.form.controls.preview_video_file_id.setValue(t?t.id:null)}selectPreviewAudioFile(t){Array.isArray(t)||this.form.controls.preview_audio_file_id.setValue(t?t.id:null)}selectVariationMainFiles(t,e){let a=this.form.get("variations").at(+e),c=Array.isArray(t)?t?.map(g=>g&&g?.id):[];a.patchValue({digital_file_ids:c}),c.length||a.patchValue({is_licensekey_auto:!1})}generateCombinations(t,e=0,n="",a=[]){if(e>=t.length)return a.length?[{name:n.replace(/\/$/,""),attribute_values:a}]:[];let c=t[e],g=c.options,h=[];if(g?.length===1){let R=g[0],I=`${n}${R.label}/`,G=[...a,...c?.attribute_values],z=this.generateCombinations(t,e+1,I,G);h.push(...z)}else for(let R=0;R<g?.length;R++){let I=g?.[R],G=I?.value,z=`${n}${I.label}/`,T=[...a,G],k=this.generateCombinations(t,e+1,z,T);h.push(...k)}return h}submit(t=!0){this.form.markAllAsTouched();let e=new $t(this.form.value);if(["simple","external"].includes(this.form.controls.type.value)&&(this.form.controls.attributes_ids.setValue([]),this.clearVariations()),this.type=="edit"&&this.id&&(e=new Ot(this.form.value,this.id)),this.form.valid)this.store.dispatch(e).subscribe({complete:()=>{t&&this.router.navigateByUrl("/product")}}),this.tabError=[];else{this.tabError=[];let n=Object?.keys(this.form?.controls).filter(a=>this.form.controls[a].invalid);n.forEach(a=>{let c=document.querySelector(`#${a}`)?.closest("div.tab")?.getAttribute("tab");c&&(this.nav.select(this.tabError?.length?this.tabError[0]:c),this.tabError?.push(c))}),console.log(n)}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.form.reset(),this.renderer.removeClass(this.document.body,"loader-none")}};ae.\u0275fac=function(e){return new(e||ae)(A(we),A(Xe),A(Ce),A(ft),A(Ct),A(wt),A(ue),A(ye))},ae.\u0275cmp=L({type:ae,selectors:[["app-form-product"]],viewQuery:function(e,n){if(e&1&&oe(Ii,5),e&2){let a;se(a=pe())&&(n.nav=a.first)}},inputs:{type:"type"},decls:52,vars:41,consts:[["nav","ngbNav"],["datepicker","ngbDatepicker"],["t",""],["dpFromDate",""],["dpToDate",""],["template",""],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","general","id","general"],["ngbNavLink",""],[1,"ri-settings-line"],["ngbNavContent",""],["ngbNavItem","images","id","images"],[1,"ri-image-line"],["ngbNavItem","inventory","id","inventory"],[1,"ri-file-list-line"],["ngbNavItem","variations",3,"is-invalid",4,"ngIf"],["ngbNavItem","digital","id","digital",3,"is-invalid",4,"ngIf"],["ngbNavItem","setup","id","setup"],[1,"ri-tools-line"],["ngbNavItem","seo","id","seo"],[1,"ri-earth-line"],["ngbNavItem","shipping","id","shipping",3,"is-invalid",4,"ngIf"],["ngbNavItem","status","id","status"],[1,"ri-checkbox-circle-line"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[1,"ms-auto","justify-content-end","d-flex","gap","mt-sm-4","mt-2"],[3,"id","class","type","click",4,"ngIf"],[3,"id"],["tab","general",1,"tab"],[3,"labelClass","gridClass","label","for","required",4,"ngIf"],[3,"labelClass","gridClass","label","for","required"],["id","name","type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["id","sort_description","rows","3","formControlName","short_description",1,"form-control",3,"placeholder"],[1,"help-text"],[1,"custom-editor","editor-checkbox"],[1,"form-check","form-switch"],["id","ckcheck","type","checkbox","name","isCodeEditor",1,"form-check-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","ckcheck",1,"cursor-pointer"],[1,"edit"],[1,"ri-edit-box-line"],[1,"code"],[1,"ri-code-s-slash-line"],[3,"ngClass"],[3,"editor"],["formControlName","description",3,"ngModelChange","editor","placeholder","ngModel"],[1,"editor-textarea",3,"ngClass"],["id","sort_description","rows","3",1,"form-control",3,"keyup","placeholder","formControl"],[1,"mt-2"],["formControlName","tax_id","resettable","",1,"custom-select",3,"placeholder","data","id","noResultMessage"],["formControlName","product_type","id","product_type",1,"custom-select",3,"placeholder","data","noResultMessage"],[1,"invalid-feedback"],["formControlName","store_id","id","store_id","resettable","",1,"custom-select",3,"placeholder","data","noResultMessage"],["tab","images",1,"tab"],[3,"selectedFiles","multipleImage","accept","image","helpText"],[3,"selectedFiles","multipleImage","accept","images","helpText"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","watermark","formControlName","watermark"],[1,"switch-state"],[4,"ngIf"],[3,"selectedFiles","accept","multipleImage","image","helpText"],["formControlName","watermark_position","id","watermark_position",1,"custom-select",3,"placeholder","data","noResultMessage"],["class","invalid-feedback","id","watermark_image_id",4,"ngIf"],["id","watermark_image_id",1,"invalid-feedback"],["tab","inventory",1,"tab"],["formControlName","stock_status",1,"custom-select",3,"placeholder","data","noResultMessage"],["id","sku","type","text","formControlName","sku",1,"form-control",3,"placeholder"],["id","quantity","type","number","formControlName","quantity",1,"form-control",3,"placeholder"],["formControlName","type",1,"custom-select",3,"placeholder","data","noResultMessage"],["id","external_url","type","url","formControlName","external_url",1,"form-control",3,"placeholder"],["id","external_button_text","type","text","formControlName","external_button_text",1,"form-control",3,"placeholder"],[1,"input-group"],[1,"input-group-text"],["id","price","type","number","formControlName","price",1,"form-control",3,"placeholder"],["id","discount_value","type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","formControlName","discount",1,"form-control",3,"placeholder"],["id","sale_price","type","number","readonly","",1,"form-control","disabled",3,"placeholder","value"],["formArrayName","wholesale_prices",4,"ngIf"],[3,"class","id","click",4,"ngIf"],["formControlName","wholesale_price_type","resettable","",1,"custom-select",3,"placeholder","data","noResultMessage"],["formArrayName","wholesale_prices"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row",3,"formGroupName"],[1,"col-sm-3","variant-row"],[3,"label","for"],["type","number","formControlName","min_qty",1,"form-control",3,"id","placeholder"],["type","number","formControlName","max_qty",1,"form-control",3,"id","placeholder"],[1,"col-sm-4","variant-row"],["class","input-group",4,"ngIf"],[1,"col-sm-2","delete-variant"],["href","javascript:void(0)",1,"invalid-feedback",3,"click"],["type","number","formControlName","value",1,"form-control",3,"id","placeholder"],["type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","formControlName","value",1,"form-control",3,"id","placeholder"],[3,"click","id"],["ngbNavItem","variations"],[1,"ri-database-line"],["tab","variations",1,"tab"],["id","variations",1,"variant-box","border-top-0"],["formArrayName","variants"],["class","shipping-accordion variant-accordion",4,"ngIf"],[1,"col-sm-5","variant-row"],["formControlName","id","resettable","",1,"custom-select","d-block",3,"update","data","placeholder","noResultMessage"],["formControlName","attribute_values",1,"custom-select","d-block",3,"update","data","placeholder","noResultMessage","multiple"],[1,"shipping-accordion","variant-accordion"],[1,"form-label-title","mb-2"],["formArrayName","variations"],["ngbAccordion",""],["ngbAccordionItem","",3,"collapsed","formGroupName",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"collapsed","formGroupName"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["type","text","formControlName","name",1,"form-control",3,"id","placeholder"],["type","number","formControlName","price",1,"form-control",3,"id","placeholder"],["type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","formControlName","discount",1,"form-control",3,"id","placeholder"],["type","number","readonly","",1,"form-control",3,"id","placeholder","value"],["type","number","formControlName","quantity",1,"form-control",3,"id","placeholder"],["type","text","formControlName","sku",1,"form-control",3,"id","placeholder"],[3,"selectedFiles","multipleImage","accept","image"],[3,"labelClass","gridClass","label","for"],["type","checkbox","formControlName","status",3,"id"],[3,"selectedFiles","multipleImage","accept","images"],["type","checkbox","id","is_licensable","formControlName","is_licensable"],["type","checkbox","id","is_licensekey_auto","formControlName","is_licensekey_auto"],["formControlName","separator",1,"custom-select","d-block",3,"data","placeholder","noResultMessage"],["formControlName","license_keys","rows","3",1,"form-control",3,"placeholder"],["ngbNavItem","digital","id","digital"],[1,"ri-computer-line"],["tab","digital",1,"tab"],["formControlName","preview_type","id","preview_type",1,"custom-select","d-block",3,"data","placeholder","noResultMessage"],[3,"selectedFiles","accept","multipleImage","images"],["formControlName","separator","id","separator",1,"custom-select","d-block",3,"data","placeholder","noResultMessage"],["formControlName","license_key","rows","3",1,"form-control",3,"placeholder"],[3,"selectedFiles","accept","multipleImage","image"],["id","preview_url","type","url","formControlName","preview_url",1,"form-control",3,"placeholder"],["tab","setup",1,"tab"],["type","checkbox","id","is_sale_enable","formControlName","is_sale_enable"],[1,"dp-hidden","position-absolute","custom-dp-dropdown"],["name","datepicker","ngbDatepicker","","outsideDays","hidden","tabindex","-1","readonly","",1,"form-control",3,"dateSelect","autoClose","displayMonths","dayTemplate","startDate"],[1,"input-group","custom-dt-picker"],["name","dpFromDate","readonly","",1,"form-control",3,"input","placeholder","value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"ri-calendar-line"],["name","dpToDate","readonly","",1,"form-control",3,"input","placeholder","value"],[3,"selectedItem","position","selectedOption","options"],[3,"selectedItem","position","selectedOption","options","subArrayKey","id"],["formControlName","brand_id","id","brand","resettable","",1,"custom-select",3,"placeholder","data","noResultMessage"],["type","checkbox","id","is_random_related_products","formControlName","is_random_related_products"],[1,"custom-day",3,"mouseenter","mouseleave"],["id","unit","type","text","formControlName","unit",1,"form-control",3,"placeholder"],["formControlName","related_products",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled","multiple"],[1,"image"],[3,"src"],["formControlName","cross_sell_products",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled","multiple"],["tab","seo",1,"tab"],["id","meta_title","type","text","formControlName","meta_title",1,"form-control",3,"placeholder"],["id","meta_desc","rows","3","formControlName","meta_description",1,"form-control",3,"placeholder"],["ngbNavItem","shipping","id","shipping"],[1,"ri-truck-line"],["tab","shipping",1,"tab"],["type","checkbox","id","free_shipping","formControlName","is_free_shipping"],["id","weight","type","number","placeholder","Enter weight Gms (e.g 100)","formControlName","weight",1,"form-control"],["id","estimated_delivery_text","type","text","formControlName","estimated_delivery_text",1,"form-control",3,"placeholder"],["type","checkbox","id","return","formControlName","is_return"],["id","return_policy_text","type","text","formControlName","return_policy_text",1,"form-control",3,"placeholder"],["tab","status",1,"tab"],["type","checkbox","id","product_featured","formControlName","is_featured"],["type","checkbox","id","social_share","formControlName","social_share"],["type","checkbox","id","is_trending","formControlName","is_trending"],["type","checkbox","id","status","formControlName","status"],["type","checkbox","id","safe_checkout","formControlName","safe_checkout"],["type","checkbox","id","secure_checkout","formControlName","secure_checkout"],["type","checkbox","id","encourage_order","formControlName","encourage_order"],["type","checkbox","id","encourage_view","formControlName","encourage_view"],[3,"click","id","type"]],template:function(e,n){if(e&1){let a=P();s(0,"form",6),w("ngSubmit",function(){return x(a),C(n.submit(!0))}),s(1,"div",7)(2,"div",8)(3,"div",9)(4,"ul",10,0),ve("activeIdChange",function(g){return x(a),ge(n.active,g)||(n.active=g),C(g)}),s(6,"li",11)(7,"a",12),_(8,"i",13),f(9),p(10,"translate"),o(),v(11,Mi,40,63,"ng-template",14),o(),s(12,"li",15)(13,"a",12),_(14,"i",16),f(15),p(16,"translate"),o(),v(17,Oi,16,36,"ng-template",14),o(),s(18,"li",17)(19,"a",12),_(20,"i",18),f(21),p(22,"translate"),o(),v(23,ar,17,35,"ng-template",14),o(),v(24,Sr,6,5,"li",19)(25,Ar,6,5,"li",20),s(26,"li",21)(27,"a",12),_(28,"i",22),f(29),p(30,"translate"),o(),v(31,Lr,54,84,"ng-template",14),o(),s(32,"li",23)(33,"a",12),_(34,"i",24),f(35),p(36,"translate"),o(),v(37,Qr,10,28,"ng-template",14),o(),v(38,Kr,6,5,"li",25),s(39,"li",26)(40,"a",12),_(41,"i",27),f(42),p(43,"translate"),o(),v(44,en,33,28,"ng-template",14),o()()(),s(45,"div",28),_(46,"div",29),o()(),s(47,"div",30),v(48,tn,3,7,"app-button",31),s(49,"app-button",32),f(50),p(51,"translate"),o()()()()}if(e&2){let a=U(5);l("formGroup",n.form),i(4),fe("activeId",n.active),i(2),O("is-invalid",n.tabError.includes("general")),i(3),S(d(10,27,"general")),i(3),O("is-invalid",n.tabError.includes("images")),i(3),S(d(16,29,"product_images")),i(3),O("is-invalid",n.tabError.includes("inventory")),i(3),S(d(22,31,"inventory")),i(3),l("ngIf",n.form.controls.type.value=="classified"),i(),l("ngIf",(n.form.controls.product_type==null?null:n.form.controls.product_type.value)!="external"&&(n.form.controls.product_type==null?null:n.form.controls.product_type.value)=="digital"),i(),O("is-invalid",n.tabError.includes("setup")),i(3),S(d(30,33,"setup")),i(3),O("is-invalid",n.tabError.includes("seo")),i(3),S(d(36,35,"seo")),i(3),l("ngIf",(n.form.controls.product_type==null?null:n.form.controls.product_type.value)=="physical"),i(),O("is-invalid",n.tabError.includes("status")),i(3),S(d(43,37,"status")),i(4),l("ngbNavOutlet",a),i(2),l("ngIf",n.type==="edit"),i(),l("id","product_btn"),i(),b(" ",d(51,39,"save")," ")}},dependencies:[Ke,Ye,be,ht,xt,bt,yt,gt,vt,It,St,Pt,Et,kt,Tt,Ft,qt,at,it,ot,tt,rt,nt,ut,_t,st,pt,mt,dt,ct,lt,Ee,Mt,Dt,Pe,Vt,ei,ti,xe,ke],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:300px!important}.dp-hidden[_ngcontent-%COMP%]{width:0;margin:0;border:none;padding:0}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0da487;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#009289}.error-border[_ngcontent-%COMP%]{border:1px solid #f00;padding:3px;border-radius:11px}"]});var M=ae;V([B(Se.user)],M.prototype,"user$",void 0);V([B(H.selectedProduct)],M.prototype,"product$",void 0);V([B(H.products)],M.prototype,"products$",void 0);V([B(ie.stores)],M.prototype,"store$",void 0);V([B(ee.category)],M.prototype,"category$",void 0);V([B(Ve.tag)],M.prototype,"tag$",void 0);V([B(Be.taxes)],M.prototype,"tax$",void 0);V([B(X.setting)],M.prototype,"setting$",void 0);V([B(ne.brands)],M.prototype,"brand$",void 0);var pi=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=L({type:t,selectors:[["app-create-product"]],decls:2,vars:3,consts:[[3,"gridClass","title"],[3,"type"]],template:function(a,c){a&1&&(s(0,"app-page-wrapper",0),_(1,"app-form-product",1),o()),a&2&&(l("gridClass","col-sm-12")("title","add_product"),i(),l("type","create"))},dependencies:[Z,M]});let r=t;return r})();var di=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=L({type:t,selectors:[["app-edit-product"]],decls:2,vars:3,consts:[[3,"gridClass","title"],[3,"type"]],template:function(a,c){a&1&&(s(0,"app-page-wrapper",0),_(1,"app-form-product",1),o()),a&2&&(l("gridClass","col-sm-12")("title","edit_product"),i(),l("type","edit"))},dependencies:[Z,M]});let r=t;return r})();var rn=[{path:"",component:j,canActivate:[qe],data:{permission:"product.index"}},{path:"create",component:pi,canActivate:[qe],data:{permission:["product.index","product.create"]}},{path:"edit/:id",component:di,canActivate:[qe],data:{permission:["product.index","product.edit"]}}],ci=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=me({imports:[Ge.forChild(rn),Ge]});let r=t;return r})();var ql=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=me({imports:[Je,ci,Zt,ii,et.forFeature([H,ie,re,ee,Ve,Be,X,ne])]});let r=t;return r})();export{ql as ProductModule};
